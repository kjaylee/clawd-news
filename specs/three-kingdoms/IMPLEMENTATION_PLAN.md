# IMPLEMENTATION_PLAN.md â€” ì‚¼êµ­ì§€ íŒ¨ì™•ì „ Godot MVP

> **ìƒíƒœ**: ğŸš€ ì§„í–‰ ì¤‘
> **ìµœì¢… ìˆ˜ì •**: 2025-02-02
> **ëª©í‘œ**: ì›¹ í”Œë ˆì´ ê°€ëŠ¥í•œ MVP â€” ì„¸ë ¥ ì„ íƒ ì—†ì´, 5ìŠ¤í…Œì´ì§€ í„´ì œ ì „íˆ¬ + ì¥ìˆ˜ 3ëª… íšë“

---

## Phase 1: MVP íƒœìŠ¤í¬ ë¶„í•´

### Task 1: í”„ë¡œì íŠ¸ ê¸°ë°˜ êµ¬ì¶• â³
**ìƒíƒœ**: â³ ì§„í–‰ ì¤‘
**ë‹´ë‹¹**: ralph-worker-1

**ë²”ìœ„**:
- MiniPCì— Godot í”„ë¡œì íŠ¸ ìƒì„± (`/home/spritz/three-kingdoms-godot/`)
- `project.godot` ì„¤ì • (í•´ìƒë„, autoload ë“±)
- `export_presets.cfg` ë³µì‚¬ (`/home/spritz/godot-demo/export_presets.cfg`)
- JSON ë°ì´í„° íŒŒì¼ ìƒì„±:
  - `data/generals.json` (ì¥ìˆ˜ 5ëª…: ìœ ë¹„, ê´€ìš°, ì¥ë¹„, ì¥ê°, í™”ì›…)
  - `data/skills.json` (ìŠ¤í‚¬ 4ì¢…)
  - `data/stages.json` (5ìŠ¤í…Œì´ì§€)
  - `data/cutscenes.json` (ì»·ì”¬ 3ì¢…)
- Autoload ìŠ¤í¬ë¦½íŠ¸:
  - `scripts/autoload/game_manager.gd` (ë°ì´í„° ë¡œë“œ, ì¥ìˆ˜ ìŠ¤íƒ¯ ê³„ì‚°)
  - `scripts/autoload/save_manager.gd` (ì €ì¥/ë¡œë“œ)
  - `scripts/autoload/event_bus.gd` (ì‹œê·¸ë„ ë²„ìŠ¤)
- ë¹Œë“œ í…ŒìŠ¤íŠ¸ (headless)

**ì‚°ì¶œë¬¼**: í”„ë¡œì íŠ¸ ê³¨ê²© + ë°ì´í„° + ì‹±ê¸€í†¤
**ì˜ì¡´ì„±**: ì—†ìŒ

---

### Task 2: ì „íˆ¬ ì‹œìŠ¤í…œ (ë¡œì§ + UI) â³
**ìƒíƒœ**: â³ ëŒ€ê¸°
**ë‹´ë‹¹**: ralph-worker-2

**ë²”ìœ„**:
- `scripts/battle/battle_manager.gd` â€” ì „íˆ¬ íë¦„ ê´€ë¦¬
- `scripts/battle/damage_calculator.gd` â€” ë°ë¯¸ì§€ ê³µì‹ (ë¬¼ë¦¬/ì±…ëµ)
- `scripts/battle/ai_controller.gd` â€” AI (ë¬´ëª¨í˜• + ê· í˜•í˜•)
- `scenes/battle_scene.tscn` â€” ì „íˆ¬ UI:
  - ìœ ë‹› ë°°ì¹˜ (ì „ì—´ 3 + í›„ì—´ 2, ì•„êµ°/ì êµ°)
  - HP ë°”, ì´ë¦„ ë ˆì´ë¸”
  - í–‰ë™ ì„ íƒ UI (ì¼ë°˜ê³µê²©/ìŠ¤í‚¬/ë°©ì–´)
  - íƒ€ê²Ÿ ì„ íƒ
  - ë°ë¯¸ì§€ íŒì—… (Tween)
  - í„´ í‘œì‹œ, ìë™ì „íˆ¬ í† ê¸€
- `scenes/battle_result.tscn` â€” ìŠ¹ë¦¬/íŒ¨ë°° ê²°ê³¼ í™”ë©´

**ì‚°ì¶œë¬¼**: ì™„ì „í•œ ì „íˆ¬ ì‹œìŠ¤í…œ (5v5 í„´ì œ ì „íˆ¬)
**ì˜ì¡´ì„±**: Task 1 ì™„ë£Œ

---

### Task 3: ìº í˜ì¸ + ì»·ì”¬ â³
**ìƒíƒœ**: â³ ëŒ€ê¸°
**ë‹´ë‹¹**: ralph-worker-3

**ë²”ìœ„**:
- `scenes/chapter_select.tscn` â€” ì±•í„° ì„ íƒ í™”ë©´
- `scenes/stage_select.tscn` â€” ìŠ¤í…Œì´ì§€ ì„ íƒ í™”ë©´ (5ê°œ)
- `scenes/cutscene.tscn` â€” ì»·ì”¬ ì‹œìŠ¤í…œ:
  - ëŒ€ì‚¬ íƒ€ì´í•‘ íš¨ê³¼
  - ê°ì •ë³„ ë°°ê²½ìƒ‰ ë³€ê²½
  - í™”ì ì´ë¦„ í‘œì‹œ
  - íƒ­ ì§„í–‰ / ìŠ¤í‚µ
- ìŠ¤í…Œì´ì§€ ì§„í–‰ ë¡œì§ (ì–¸ë½, í´ë¦¬ì–´ ê¸°ë¡)
- ë³´ìƒ ì§€ê¸‰ (ì¥ìˆ˜ íšë“, ê³¨ë“œ)

**ì‚°ì¶œë¬¼**: ìº í˜ì¸ 5ìŠ¤í…Œì´ì§€ ì„ íƒ + ì»·ì”¬ ì¬ìƒ
**ì˜ì¡´ì„±**: Task 1 ì™„ë£Œ

---

### Task 4: UI í™”ë©´ë“¤ (íƒ€ì´í‹€/ë©”ë‰´/ì¥ìˆ˜) â³
**ìƒíƒœ**: â³ ëŒ€ê¸°
**ë‹´ë‹¹**: ralph-worker-4

**ë²”ìœ„**:
- `scenes/title_screen.tscn` â€” íƒ€ì´í‹€ í™”ë©´ (ìƒˆê²Œì„/ì´ì–´í•˜ê¸°/ì„¤ì •)
- `scenes/main_menu.tscn` â€” ë©”ì¸ ë©”ë‰´ (ì¶œì „/ì¥ìˆ˜/ì„¤ì •)
- `scenes/general_list.tscn` â€” ì¥ìˆ˜ ëª©ë¡ (3ì—´ ê·¸ë¦¬ë“œ)
- `scenes/general_detail.tscn` â€” ì¥ìˆ˜ ìƒì„¸ (ìŠ¤íƒ¯ë°”, ìŠ¤í‚¬ ì •ë³´)
- `scenes/settings.tscn` â€” ì„¤ì • (ë³¼ë¥¨, ì €ì¥/ë¡œë“œ)
- ì”¬ ì „í™˜ ë¡œì§

**ì‚°ì¶œë¬¼**: ì „ì²´ ë©”ë‰´ UI ì‹œìŠ¤í…œ
**ì˜ì¡´ì„±**: Task 1 ì™„ë£Œ

---

### Task 5: í†µí•© + ì›¹ ë¹Œë“œ + ë°°í¬ â³
**ìƒíƒœ**: â³ ëŒ€ê¸°
**ë‹´ë‹¹**: ralph-worker-5

**ë²”ìœ„**:
- ëª¨ë“  ì”¬ ì—°ê²° (ì”¬ ì „í™˜ íë¦„ ì™„ì„±)
- ì „íˆ¬ â†’ ë³´ìƒ â†’ ìº í˜ì¸ ì§„í–‰ ì—°ë™
- ì¥ìˆ˜ íšë“ â†’ ì¥ìˆ˜ ëª©ë¡ ë°˜ì˜
- í¸ì„± ì‹œìŠ¤í…œ (ì¥ìˆ˜ ìƒì„¸ì—ì„œ í¸ì„± ì¶”ê°€/ì œê±°)
- ì›¹ ë¹Œë“œ (Godot --export-release "Web")
- index.html J&J ìŠ¤í”Œë˜ì‹œ ì ìš©
- MiniPC HTTP â†’ ë§¥ ìŠ¤íŠœë””ì˜¤ ì „ì†¡
- `/Users/kjaylee/clawd/games/three-kingdoms/` ë°°í¬
- Git commit & push

**ì‚°ì¶œë¬¼**: ì›¹ í”Œë ˆì´ ê°€ëŠ¥í•œ ì™„ì„± MVP
**ì˜ì¡´ì„±**: Task 2, 3, 4 ì™„ë£Œ

---

## ì‹¤í–‰ ìˆœì„œ

```
Task 1 (ê¸°ë°˜) â”€â”€â†’ Task 2 (ì „íˆ¬)  â”€â”€â†’ Task 5 (í†µí•©+ë°°í¬)
              â”œâ”€â”€â†’ Task 3 (ìº í˜ì¸) â”€â”€â”¤
              â””â”€â”€â†’ Task 4 (UI)    â”€â”€â”˜
```

1. **Task 1** ë¨¼ì € (í”„ë¡œì íŠ¸ ê¸°ë°˜)
2. Task 1 ì™„ë£Œ í›„ **Task 2, 3, 4** ë³‘ë ¬ ê°€ëŠ¥ (í•˜ì§€ë§Œ ìˆœì°¨ ì‹¤í–‰ ê¶Œì¥ â€” ì¶©ëŒ ë°©ì§€)
3. ëª¨ë‘ ì™„ë£Œ í›„ **Task 5** (í†µí•©)

**ê¶Œì¥ ì‹¤í–‰**: Task 1 â†’ Task 2 â†’ Task 3 â†’ Task 4 â†’ Task 5 (ìˆœì°¨)

---

## í™˜ê²½ ì •ë³´

| í•­ëª© | ê°’ |
|------|-----|
| MiniPC ë…¸ë“œ | `nodes.run(node="MiniPC")` |
| Godot | `/home/spritz/godot4` (4.6) |
| í”„ë¡œì íŠ¸ | `/home/spritz/three-kingdoms-godot/` |
| export_presets | `/home/spritz/godot-demo/export_presets.cfg` ë³µì‚¬ |
| ë°°í¬ | HTTP(9877) â†’ curl â†’ `/Users/kjaylee/clawd/games/three-kingdoms/` |
| Git push | ë§¥ ìŠ¤íŠœë””ì˜¤ì—ì„œë§Œ |

## í•„ìˆ˜ ê·œì¹™

- GDScript: `var x: Type = value` (`:=` íƒ€ì… ì¶”ë¡  ê¸ˆì§€)
- Viewport: `get_viewport_rect().size` (í•˜ë“œì½”ë”© ê¸ˆì§€)
- export_presets.cfg ì§ì ‘ ì‘ì„± ê¸ˆì§€

---

## ì§„í–‰ ë¡œê·¸

| ì‹œê° | íƒœìŠ¤í¬ | ìƒíƒœ | ë©”ëª¨ |
|------|--------|------|------|
| 2025-02-02 | Plan ì‘ì„± | âœ… ì™„ë£Œ | specs 5ê°œ + plan ìƒì„± |
| 2025-02-02 | Task 1 | â³ ì‹œì‘ | worker-1 spawn |
