<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Name Aura ‚Äî Discover Your Unique Aura Color | Ïù¥Î¶Ñ Ïò§Îùº</title>
    <meta name="description" content="Enter your name and discover your unique aura color & personality. Beautiful animated visualization you can download and share! Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÍ≥† ÎãπÏã†ÎßåÏùò Ïò§Îùº Ïª¨Îü¨Î•º Î∞úÍ≤¨ÌïòÏÑ∏Ïöî.">
    <meta name="keywords" content="aura color, name aura, personality, color test, Ïò§Îùº, Ïù¥Î¶Ñ Ïò§Îùº, ÏÑ±Í≤© ÌÖåÏä§Ìä∏, aura generator, vibe check">
    <meta name="author" content="Jay Lee">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://eastsea.monster/tools/name-aura/">

    <!-- Open Graph -->
    <meta property="og:title" content="Your Name Aura ‚Äî What Color Is Your Aura?">
    <meta property="og:description" content="Enter your name and discover your unique aura color & personality reading. ‚ú® Beautiful animated visualization!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://eastsea.monster/tools/name-aura/">
    <meta property="og:image" content="https://eastsea.monster/tools/name-aura/og-image.png">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="ko_KR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Your Name Aura ‚Äî What Color Is Your Aura?">
    <meta name="twitter:description" content="Discover your unique aura color & personality. ‚ú®">
    <meta name="twitter:image" content="https://eastsea.monster/tools/name-aura/og-image.png">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Your Name Aura",
        "alternateName": "Ïù¥Î¶Ñ Ïò§Îùº",
        "description": "Discover your unique aura color & personality based on your name",
        "url": "https://eastsea.monster/tools/name-aura/",
        "applicationCategory": "Entertainment",
        "operatingSystem": "Web",
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
        "author": { "@type": "Person", "name": "Jay Lee", "url": "https://eastsea.monster" }
    }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg: #0a0a0f;
            --surface: #12121a;
            --surface2: #1a1a25;
            --text: #e8e8f0;
            --text-dim: #8888a0;
            --accent: #7c5bf5;
            --accent-glow: rgba(124, 91, 245, 0.3);
            --radius: 16px;
        }

        body {
            font-family: 'Inter', 'Noto Sans KR', -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Background animation */
        .bg-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            opacity: 0.15;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 640px;
            margin: 0 auto;
            padding: 40px 20px 60px;
        }

        /* Language toggle */
        .lang-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: var(--surface2);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 24px;
            padding: 4px;
            display: flex;
            gap: 2px;
        }
        .lang-btn {
            background: none;
            border: none;
            color: var(--text-dim);
            padding: 6px 14px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.3s;
        }
        .lang-btn.active {
            background: var(--accent);
            color: white;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 48px;
            padding-top: 20px;
        }
        .header-icon {
            font-size: 48px;
            margin-bottom: 16px;
            display: block;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        .header h1 {
            font-size: 32px;
            font-weight: 700;
            letter-spacing: -0.5px;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #7c5bf5, #c084fc, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .header p {
            color: var(--text-dim);
            font-size: 16px;
            max-width: 400px;
            margin: 0 auto;
        }

        /* Input Section */
        .input-section {
            background: var(--surface);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: var(--radius);
            padding: 32px;
            margin-bottom: 32px;
        }
        .input-group {
            margin-bottom: 20px;
        }
        .input-group:last-of-type {
            margin-bottom: 24px;
        }
        .input-label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            color: var(--text-dim);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .input-field {
            width: 100%;
            padding: 14px 18px;
            background: var(--surface2);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 12px;
            color: var(--text);
            font-size: 18px;
            font-family: inherit;
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .input-field:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-glow);
        }
        .input-field::placeholder {
            color: rgba(255,255,255,0.2);
        }

        .discover-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #7c5bf5, #a855f7);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 17px;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            letter-spacing: 0.3px;
        }
        .discover-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(124, 91, 245, 0.4);
        }
        .discover-btn:active {
            transform: translateY(0);
        }

        /* Result Section */
        .result-section {
            display: none;
            animation: fadeUp 0.8s ease;
        }
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .aura-canvas-wrap {
            position: relative;
            width: 100%;
            aspect-ratio: 1;
            border-radius: var(--radius);
            overflow: hidden;
            margin-bottom: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .aura-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        .aura-name-overlay {
            position: absolute;
            bottom: 24px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 14px;
            font-weight: 400;
            color: rgba(255,255,255,0.7);
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
            letter-spacing: 3px;
            text-transform: uppercase;
        }
        .aura-name-overlay .name-text {
            display: block;
            font-size: 24px;
            font-weight: 700;
            color: white;
            letter-spacing: 4px;
            margin-bottom: 4px;
        }

        .aura-type-card {
            background: var(--surface);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: var(--radius);
            padding: 28px;
            margin-bottom: 24px;
            text-align: center;
        }
        .aura-type-label {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-dim);
            margin-bottom: 8px;
        }
        .aura-type-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        .aura-colors-display {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 16px 0;
        }
        .color-dot {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.1);
        }
        .aura-description {
            color: var(--text-dim);
            font-size: 15px;
            line-height: 1.7;
            margin-top: 16px;
        }

        .traits-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 20px;
        }
        .trait-item {
            background: var(--surface2);
            border-radius: 10px;
            padding: 12px 16px;
            text-align: center;
        }
        .trait-emoji {
            font-size: 20px;
            display: block;
            margin-bottom: 4px;
        }
        .trait-label {
            font-size: 12px;
            color: var(--text-dim);
        }
        .trait-value {
            font-size: 14px;
            font-weight: 600;
            margin-top: 2px;
        }

        /* Action buttons */
        .actions {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }
        .action-btn {
            flex: 1;
            min-width: 120px;
            padding: 12px 16px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
            background: var(--surface);
            color: var(--text);
            font-size: 14px;
            font-weight: 500;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .action-btn:hover {
            background: var(--surface2);
            border-color: var(--accent);
        }
        .action-btn.primary {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        /* Share buttons */
        .share-section {
            background: var(--surface);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: var(--radius);
            padding: 24px;
            margin-bottom: 32px;
            text-align: center;
        }
        .share-title {
            font-size: 14px;
            color: var(--text-dim);
            margin-bottom: 16px;
        }
        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }
        .share-btn {
            padding: 10px 20px;
            border-radius: 10px;
            border: none;
            font-size: 14px;
            font-weight: 500;
            font-family: inherit;
            cursor: pointer;
            transition: transform 0.2s, opacity 0.2s;
            color: white;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .share-btn:hover { transform: translateY(-2px); opacity: 0.9; }
        .share-btn.twitter { background: #1DA1F2; }
        .share-btn.facebook { background: #4267B2; }
        .share-btn.whatsapp { background: #25D366; }
        .share-btn.copy { background: var(--surface2); color: var(--text); border: 1px solid rgba(255,255,255,0.1); }

        /* Try Again */
        .try-again {
            text-align: center;
            margin-bottom: 48px;
        }
        .try-again-btn {
            background: none;
            border: 1px solid rgba(255,255,255,0.15);
            color: var(--text-dim);
            padding: 12px 28px;
            border-radius: 12px;
            font-size: 15px;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s;
        }
        .try-again-btn:hover {
            border-color: var(--accent);
            color: var(--text);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px;
            border-top: 1px solid rgba(255,255,255,0.06);
        }
        .footer-title {
            font-size: 13px;
            color: var(--text-dim);
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 24px;
            flex-wrap: wrap;
        }
        .footer-link {
            color: var(--accent);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: opacity 0.2s;
        }
        .footer-link:hover { opacity: 0.8; }
        .footer-copy {
            margin-top: 20px;
            font-size: 12px;
            color: rgba(255,255,255,0.2);
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--surface2);
            color: var(--text);
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 14px;
            z-index: 1000;
            transition: transform 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .toast.show {
            transform: translateX(-50%) translateY(0);
        }

        /* Hidden share card canvas */
        #shareCard { display: none; }

        /* Mobile */
        @media (max-width: 480px) {
            .container { padding: 20px 16px 40px; }
            .header h1 { font-size: 26px; }
            .input-section { padding: 24px; }
            .aura-type-name { font-size: 22px; }
            .traits-grid { grid-template-columns: 1fr 1fr; gap: 8px; }
            .actions { flex-direction: column; }
        }
    </style>
</head>
<body>
    <canvas class="bg-canvas" id="bgCanvas"></canvas>

    <!-- Language Toggle -->
    <div class="lang-toggle">
        <button class="lang-btn active" onclick="setLang('en')" id="langEn">EN</button>
        <button class="lang-btn" onclick="setLang('ko')" id="langKo">ÌïúÍµ≠Ïñ¥</button>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <span class="header-icon">‚ú®</span>
            <h1 data-en="Your Name Aura" data-ko="ÎãπÏã†Ïùò Ïù¥Î¶Ñ Ïò§Îùº">Your Name Aura</h1>
            <p data-en="Enter your name and discover your unique aura energy, colors, and personality traits."
               data-ko="Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÍ≥† ÎãπÏã†ÎßåÏùò Ïò§Îùº ÏóêÎÑàÏßÄ, Ïª¨Îü¨, ÏÑ±Í≤© ÌäπÏÑ±ÏùÑ Î∞úÍ≤¨ÌïòÏÑ∏Ïöî.">
                Enter your name and discover your unique aura energy, colors, and personality traits.
            </p>
        </div>

        <!-- Input -->
        <div class="input-section" id="inputSection">
            <div class="input-group">
                <label class="input-label" data-en="Your Name" data-ko="Ïù¥Î¶Ñ">Your Name</label>
                <input type="text" class="input-field" id="nameInput"
                    data-placeholder-en="Enter your name..."
                    data-placeholder-ko="Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."
                    placeholder="Enter your name..."
                    maxlength="30" autocomplete="off">
            </div>
            <div class="input-group">
                <label class="input-label" data-en="Birthday (optional)" data-ko="ÏÉùÏùº (ÏÑ†ÌÉù)">Birthday (optional)</label>
                <input type="date" class="input-field" id="birthdayInput">
            </div>
            <button class="discover-btn" id="discoverBtn" onclick="discoverAura()"
                data-en="‚ú® Discover Your Aura" data-ko="‚ú® Ïò§Îùº Î∞úÍ≤¨ÌïòÍ∏∞">
                ‚ú® Discover Your Aura
            </button>
        </div>

        <!-- Result -->
        <div class="result-section" id="resultSection">
            <div class="aura-canvas-wrap">
                <canvas class="aura-canvas" id="auraCanvas" width="600" height="600"></canvas>
                <div class="aura-name-overlay">
                    <span class="name-text" id="displayName"></span>
                    <span data-en="AURA READING" data-ko="Ïò§Îùº Î¶¨Îî©">AURA READING</span>
                </div>
            </div>

            <div class="aura-type-card">
                <div class="aura-type-label" data-en="YOUR AURA TYPE" data-ko="ÎãπÏã†Ïùò Ïò§Îùº ÌÉÄÏûÖ">YOUR AURA TYPE</div>
                <div class="aura-type-name" id="auraTypeName"></div>
                <div class="aura-colors-display" id="auraColors"></div>
                <div class="aura-description" id="auraDescription"></div>
                <div class="traits-grid" id="traitsGrid"></div>
            </div>

            <!-- Actions -->
            <div class="actions">
                <button class="action-btn primary" onclick="downloadCard()"
                    data-en="üì• Download Card" data-ko="üì• Ïπ¥Îìú Ï†ÄÏû•">üì• Download Card</button>
                <button class="action-btn" onclick="tryAgain()"
                    data-en="üîÑ Try Another Name" data-ko="üîÑ Îã§Î•∏ Ïù¥Î¶Ñ ÏãúÎèÑ">üîÑ Try Another Name</button>
            </div>

            <!-- Share -->
            <div class="share-section">
                <div class="share-title" data-en="Share your aura with friends ‚ú®" data-ko="ÏπúÍµ¨ÏóêÍ≤å Ïò§ÎùºÎ•º Í≥µÏú†ÌïòÏÑ∏Ïöî ‚ú®">Share your aura with friends ‚ú®</div>
                <div class="share-buttons">
                    <button class="share-btn twitter" onclick="shareTwitter()">ùïè Twitter</button>
                    <button class="share-btn facebook" onclick="shareFacebook()">f Facebook</button>
                    <button class="share-btn whatsapp" onclick="shareWhatsApp()">üí¨ WhatsApp</button>
                    <button class="share-btn copy" onclick="copyLink()"
                        data-en="üîó Copy Link" data-ko="üîó ÎßÅÌÅ¨ Î≥µÏÇ¨">üîó Copy Link</button>
                </div>
            </div>

            <div class="try-again">
                <button class="try-again-btn" onclick="tryAgain()"
                    data-en="‚Üê Try another name" data-ko="‚Üê Îã§Î•∏ Ïù¥Î¶ÑÏúºÎ°ú">‚Üê Try another name</button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-title" data-en="More by Jay Lee" data-ko="Jay LeeÏùò Îã§Î•∏ ÌîÑÎ°úÏ†ùÌä∏">More by Jay Lee</div>
            <div class="footer-links">
                <a href="https://eastsea.monster" class="footer-link" data-en="üéÆ Game Portal" data-ko="üéÆ Í≤åÏûÑ Ìè¨ÌÑ∏">üéÆ Game Portal</a>
                <a href="https://eastsea.monster/blog" class="footer-link" data-en="üìù Blog" data-ko="üìù Î∏îÎ°úÍ∑∏">üìù Blog</a>
                <a href="https://github.com/kjaylee" class="footer-link">üêô GitHub</a>
            </div>
            <div class="footer-copy">¬© 2025 Jay Lee ¬∑ eastsea.monster</div>
        </footer>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- Hidden canvas for share card -->
    <canvas id="shareCard" width="1080" height="1080"></canvas>

    <script>
    // ========== LANGUAGE ==========
    let currentLang = (navigator.language || '').startsWith('ko') ? 'ko' : 'en';

    function setLang(lang) {
        currentLang = lang;
        document.getElementById('langEn').classList.toggle('active', lang === 'en');
        document.getElementById('langKo').classList.toggle('active', lang === 'ko');
        document.querySelectorAll('[data-' + lang + ']').forEach(el => {
            el.textContent = el.getAttribute('data-' + lang);
        });
        // Placeholders
        document.querySelectorAll('[data-placeholder-' + lang + ']').forEach(el => {
            el.placeholder = el.getAttribute('data-placeholder-' + lang);
        });
        document.documentElement.lang = lang;
    }

    // ========== HASH FUNCTION ==========
    function hashStr(str) {
        let hash = 0;
        for (let i = 0; i < str.length; i++) {
            const c = str.charCodeAt(i);
            hash = ((hash << 5) - hash) + c;
            hash |= 0;
        }
        return Math.abs(hash);
    }

    function seededRandom(seed) {
        let s = seed;
        return function() {
            s = (s * 16807 + 0) % 2147483647;
            return (s - 1) / 2147483646;
        };
    }

    // ========== AURA DATA ==========
    const auraTypes = {
        en: [
            { name: "Celestial Violet", desc: "Your aura radiates with deep wisdom and spiritual intuition. You are a natural philosopher who sees beyond the surface. People are drawn to your calm, mysterious energy and often seek your guidance in times of uncertainty." },
            { name: "Solar Gold", desc: "Your aura blazes with confidence and creative fire. You light up every room you enter and inspire others with your infectious enthusiasm. Your energy is warm, generous, and unapologetically bold." },
            { name: "Ocean Sapphire", desc: "Your aura flows with emotional depth and tranquil strength. Like the ocean, you hold vast worlds within you. You're deeply empathetic, and your presence brings peace and clarity to those around you." },
            { name: "Forest Emerald", desc: "Your aura pulses with growth, healing, and natural harmony. You're a grounding force who helps others find their center. Your energy is refreshing, nurturing, and deeply connected to the earth." },
            { name: "Nebula Rose", desc: "Your aura shimmers with compassion and artistic sensitivity. You experience the world through a lens of beauty and emotion. Your gentle yet powerful energy transforms ordinary moments into something magical." },
            { name: "Lightning Cyan", desc: "Your aura crackles with innovation and mental agility. You're always three steps ahead, seeing connections others miss. Your electric energy sparks new ideas and pushes boundaries fearlessly." },
            { name: "Ember Crimson", desc: "Your aura burns with passion and fierce determination. You feel everything intensely and channel that fire into action. Your powerful energy commands respect and ignites courage in others." },
            { name: "Moonlit Silver", desc: "Your aura glows with elegance and quiet brilliance. You're an observer who notices what others overlook. Your refined, contemplative energy carries a timeless quality that feels both rare and precious." },
            { name: "Aurora Teal", desc: "Your aura dances with adaptability and creative flow. Like the northern lights, you're ever-changing and mesmerizing. Your dynamic energy brings wonder and possibility wherever you go." },
            { name: "Starfire Orange", desc: "Your aura radiates warmth, joy, and magnetic charisma. You're a natural connector who builds bridges between people. Your sunny energy is contagious and makes the world feel brighter." },
            { name: "Twilight Indigo", desc: "Your aura resonates with deep knowledge and mystical awareness. You walk between worlds ‚Äî logic and intuition, reality and dreams. Your enigmatic energy attracts seekers and dreamers alike." },
            { name: "Prism Pearl", desc: "Your aura contains all colors, reflecting the full spectrum of human experience. You're exceptionally versatile and see every perspective. Your multifaceted energy makes you uniquely adaptable and wise." }
        ],
        ko: [
            { name: "Ï≤úÏÉÅÏùò Î≥¥Îùº", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî ÍπäÏùÄ ÏßÄÌòúÏôÄ ÏòÅÏ†Å ÏßÅÍ¥ÄÏúºÎ°ú ÎπõÎÇ©ÎãàÎã§. ÌëúÎ©¥ ÎÑàÎ®∏Î•º Î≥¥Îäî ÌÉÄÍ≥†ÎÇú Ï≤†ÌïôÏûêÏù¥ÏãúÏ£†. ÏÇ¨ÎûåÎì§ÏùÄ ÎãπÏã†Ïùò Í≥†ÏöîÌïòÍ≥† Ïã†ÎπÑÎ°úÏö¥ ÏóêÎÑàÏßÄÏóê ÎÅåÎ¶¨Î©∞, Î∂àÌôïÏã§Ìïú ÏãúÍ∏∞Ïóê Ï¢ÖÏ¢Ö ÎãπÏã†Ïùò Ï°∞Ïñ∏ÏùÑ Íµ¨Ìï©ÎãàÎã§." },
            { name: "ÌÉúÏñëÏùò Í∏àÎπõ", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî ÏûêÏã†Í∞êÍ≥º Ï∞ΩÏ°∞Ï†Å Ïó¥Ï†ïÏúºÎ°ú ÌÉÄÏò§Î¶ÖÎãàÎã§. Ïñ¥ÎîîÎ•º Í∞ÄÎì† Î∂ÑÏúÑÍ∏∞Î•º Î∞ùÌûàÍ≥†, Ï†ÑÏóºÏÑ± ÏûàÎäî Ïó¥Ï†ïÏúºÎ°ú Ï£ºÎ≥Ä ÏÇ¨ÎûåÎì§ÏóêÍ≤å ÏòÅÍ∞êÏùÑ Ï§çÎãàÎã§. Îî∞ÎúªÌïòÍ≥† Í¥ÄÎåÄÌïòÎ©∞ ÎãπÎãπÌïú ÏóêÎÑàÏßÄÏùò ÏÜåÏú†ÏûêÏûÖÎãàÎã§." },
            { name: "Î∞îÎã§Ïùò ÏÇ¨ÌååÏù¥Ïñ¥", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî Í∞êÏ†ïÏùò ÍπäÏù¥ÏôÄ Í≥†ÏöîÌïú ÌûòÏúºÎ°ú ÌùêÎ¶ÖÎãàÎã§. Î∞îÎã§Ï≤òÎüº ÎãπÏã† ÏïàÏóêÎäî Í¥ëÎåÄÌïú ÏÑ∏Í≥ÑÍ∞Ä ÏûàÏäµÎãàÎã§. ÍπäÏùÄ Í≥µÍ∞ê Îä•Î†•ÏùÑ Í∞ÄÏ°åÏúºÎ©∞, ÎãπÏã†Ïùò Ï°¥Ïû¨Îäî Ï£ºÎ≥ÄÏóê ÌèâÌôîÏôÄ Î™ÖÎ£åÌï®ÏùÑ Í∞ÄÏ†∏Îã§Ï§çÎãàÎã§." },
            { name: "Ïà≤Ïùò ÏóêÎ©îÎûÑÎìú", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî ÏÑ±Ïû•, ÏπòÏú†, ÏûêÏó∞Ïùò Ï°∞ÌôîÎ°ú Îß•ÎèôÌï©ÎãàÎã§. Îã§Î•∏ ÏÇ¨ÎûåÎì§Ïù¥ Ï§ëÏã¨ÏùÑ Ï∞æÎèÑÎ°ù ÎèïÎäî Îì†Îì†Ìïú Ï°¥Ïû¨Ïù¥Ï£†. ÏÉÅÏæåÌïòÍ≥† Ìè¨Í∑ºÌïòÎ©∞ ÎåÄÏßÄÏôÄ ÍπäÏù¥ Ïó∞Í≤∞Îêú ÏóêÎÑàÏßÄÎ•º Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§." },
            { name: "ÏÑ±Ïö¥Ïùò Î°úÏ¶à", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî Ïó∞ÎØºÍ≥º ÏòàÏà†Ï†Å Í∞êÏàòÏÑ±ÏúºÎ°ú Î∞òÏßùÏûÖÎãàÎã§. ÏïÑÎ¶ÑÎã§ÏõÄÍ≥º Í∞êÏ†ïÏùò Î†åÏ¶àÎ•º ÌÜµÌï¥ ÏÑ∏ÏÉÅÏùÑ Í≤ΩÌóòÌïòÏ£†. Î∂ÄÎìúÎü¨Ïö∞Î©¥ÏÑúÎèÑ Í∞ïÎ†•Ìïú ÏóêÎÑàÏßÄÎ°ú ÌèâÎ≤îÌïú ÏàúÍ∞ÑÏùÑ ÎßàÎ≤ïÏ≤òÎüº Î≥ÄÌôîÏãúÌÇµÎãàÎã§." },
            { name: "Î≤àÍ∞úÏùò ÏãúÏïà", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî ÌòÅÏã†Í≥º Ï†ïÏã†Ï†Å ÎØºÏ≤©Ìï®ÏúºÎ°ú Î≤àÏ©çÏûÖÎãàÎã§. Ìï≠ÏÉÅ ÏÑ∏ Î∞úÏßù ÏïûÏÑúÏÑú, ÎÇ®Îì§Ïù¥ ÎÜìÏπòÎäî Ïó∞Í≤∞Í≥†Î¶¨Î•º Î¥ÖÎãàÎã§. Ï†ÑÍ∏∞Ï†ÅÏù∏ ÏóêÎÑàÏßÄÍ∞Ä ÏÉàÎ°úÏö¥ ÏïÑÏù¥ÎîîÏñ¥Î•º Î∂àÍΩÉÏ≤òÎüº ÎßåÎì§Ïñ¥ÎÉÖÎãàÎã§." },
            { name: "Î∂àÍΩÉÏùò ÌÅ¨Î¶ºÏä®", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî Ïó¥Ï†ïÍ≥º Î∂àÍ∞ôÏùÄ Í≤∞Îã®Î†•ÏúºÎ°ú ÌÉÄÏò§Î¶ÖÎãàÎã§. Î™®Îì† Í≤ÉÏùÑ Í∞ïÎ†¨ÌïòÍ≤å ÎäêÎÅºÎ©∞, Í∑∏ Î∂àÍΩÉÏùÑ ÌñâÎèôÏúºÎ°ú Ïù¥ÎÅïÎãàÎã§. Í∞ïÎ†•Ìïú ÏóêÎÑàÏßÄÎäî Ï°¥Í≤ΩÏùÑ Î∞õÏúºÎ©∞ ÌÉÄÏù∏ÏóêÍ≤å Ïö©Í∏∞Î•º Î∂àÏñ¥ÎÑ£ÏäµÎãàÎã§." },
            { name: "Îã¨ÎπõÏùò Ïã§Î≤Ñ", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî Ïö∞ÏïÑÌï®Í≥º Ï°∞Ïö©Ìïú ÎπõÎÇ®ÏúºÎ°ú Í∞ÄÎìùÌï©ÎãàÎã§. ÎÇ®Îì§Ïù¥ ÏßÄÎÇòÏπòÎäî Í≤ÉÏùÑ ÏïåÏïÑÏ∞®Î¶¨Îäî Í¥ÄÏ∞∞ÏûêÏù¥ÏãúÏ£†. ÏÑ∏Î†®ÎêòÍ≥† ÏÇ¨ÏÉâÏ†ÅÏù∏ ÏóêÎÑàÏßÄÏóêÏÑú ÏãúÎåÄÎ•º Ï¥àÏõîÌïú Ìù¨Í∑ÄÌïú ÏïÑÎ¶ÑÎã§ÏõÄÏù¥ ÎäêÍª¥ÏßëÎãàÎã§." },
            { name: "Ïò§Î°úÎùº Ìã∏", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî Ï†ÅÏùëÎ†•Í≥º Ï∞ΩÏùòÏ†Å ÌùêÎ¶ÑÏúºÎ°ú Ï∂§Ï∂•ÎãàÎã§. Ïò§Î°úÎùºÏ≤òÎüº ÎÅäÏûÑÏóÜÏù¥ Î≥ÄÌôîÌïòÎ©∞ Îß§ÌòπÏ†ÅÏûÖÎãàÎã§. Ïó≠ÎèôÏ†ÅÏù∏ ÏóêÎÑàÏßÄÍ∞Ä Í∞ÄÎäî Í≥≥ÎßàÎã§ Í≤ΩÏù¥Î°úÏõÄÍ≥º Í∞ÄÎä•ÏÑ±ÏùÑ Í∞ÄÏ†∏Îã§Ï§çÎãàÎã§." },
            { name: "Î≥ÑÏùò Ïò§Î†åÏßÄ", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî Îî∞ÎúªÌï®, Í∏∞ÏÅ®, ÏûêÏÑù Í∞ôÏùÄ Îß§Î†•ÏúºÎ°ú ÎπõÎÇ©ÎãàÎã§. ÏÇ¨ÎûåÍ≥º ÏÇ¨Îûå ÏÇ¨Ïù¥Ïóê Îã§Î¶¨Î•º ÎÜìÎäî ÌÉÄÍ≥†ÎÇú Ïó∞Í≤∞ÏûêÏûÖÎãàÎã§. Î∞ùÏùÄ ÏóêÎÑàÏßÄÍ∞Ä Ï†ÑÏóºÎêòÏñ¥ ÏÑ∏ÏÉÅÏùÑ Îçî ÌôòÌïòÍ≤å ÎßåÎì≠ÎãàÎã§." },
            { name: "Ìô©ÌòºÏùò Ïù∏ÎîîÍ≥†", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî ÍπäÏùÄ ÏßÄÏãùÍ≥º Ïã†ÎπÑÎ°úÏö¥ Ïù∏ÏãùÏúºÎ°ú Ïö∏Î¶ΩÎãàÎã§. ÎÖºÎ¶¨ÏôÄ ÏßÅÍ¥Ä, ÌòÑÏã§Í≥º Íøà ÏÇ¨Ïù¥Î•º Ïò§Í∞ÄÎäî Ï°¥Ïû¨Ïù¥Ï£†. ÏàòÏàòÍªòÎÅº Í∞ôÏùÄ ÏóêÎÑàÏßÄÍ∞Ä ÌÉêÍµ¨ÏûêÏôÄ Î™ΩÏÉÅÍ∞Ä Î™®ÎëêÎ•º ÎÅåÏñ¥ÎãπÍπÅÎãàÎã§." },
            { name: "ÌîÑÎ¶¨Ï¶ò ÌéÑ", desc: "ÎãπÏã†Ïùò Ïò§ÎùºÎäî Î™®Îì† ÏÉâÏùÑ Îã¥Í≥† ÏûàÏñ¥ Ïù∏Í∞Ñ Í≤ΩÌóòÏùò Ï†ÑÏ≤¥ Ïä§ÌéôÌä∏ÎüºÏùÑ Î∞òÏòÅÌï©ÎãàÎã§. ÎÜÄÎùºÏö∏ Ï†ïÎèÑÎ°ú Îã§Ïû¨Îã§Îä•ÌïòÎ©∞ Î™®Îì† Í¥ÄÏ†êÏùÑ Ïù¥Ìï¥Ìï©ÎãàÎã§. Îã§Î©¥Ï†ÅÏù∏ ÏóêÎÑàÏßÄÍ∞Ä ÎãπÏã†ÏùÑ ÎèÖÎ≥¥Ï†ÅÏúºÎ°ú Ïú†Ïó∞ÌïòÍ≥† ÏßÄÌòúÎ°≠Í≤å ÎßåÎì≠ÎãàÎã§." }
        ]
    };

    const traitSets = {
        en: [
            { emoji: "üîÆ", label: "Element", values: ["Aether", "Fire", "Water", "Earth", "Air", "Light", "Shadow", "Storm"] },
            { emoji: "‚ö°", label: "Energy", values: ["Radiant", "Calm", "Electric", "Flowing", "Pulsing", "Steady", "Dynamic", "Gentle"] },
            { emoji: "üåô", label: "Season", values: ["Spring Dawn", "Summer Peak", "Autumn Glow", "Winter Still", "Eternal Spring", "Midsummer", "Golden Fall", "Deep Winter"] },
            { emoji: "üíé", label: "Crystal", values: ["Amethyst", "Citrine", "Sapphire", "Jade", "Rose Quartz", "Aquamarine", "Garnet", "Opal"] }
        ],
        ko: [
            { emoji: "üîÆ", label: "ÏõêÏÜå", values: ["ÏóêÌÖåÎ•¥", "Î∂à", "Î¨º", "ÎåÄÏßÄ", "Î∞îÎûå", "Îπõ", "Í∑∏Î¶ºÏûê", "Ìè≠Ìíç"] },
            { emoji: "‚ö°", label: "ÏóêÎÑàÏßÄ", values: ["Ï∞¨ÎûÄÌï®", "Í≥†ÏöîÌï®", "Ï†ÑÍ∏∞Ï†Å", "Ïú†ÎèôÏ†Å", "Îß•ÎèôÏ†Å", "ÏïàÏ†ïÏ†Å", "Ïó≠ÎèôÏ†Å", "Î∂ÄÎìúÎü¨ÏõÄ"] },
            { emoji: "üåô", label: "Í≥ÑÏ†à", values: ["Î¥ÑÏùò Ïó¨Î™Ö", "Ïó¨Î¶ÑÏùò Ï†àÏ†ï", "Í∞ÄÏùÑÏùò Îπõ", "Í≤®Ïö∏Ïùò Í≥†Ïöî", "ÏòÅÏõêÌïú Î¥Ñ", "ÌïúÏó¨Î¶Ñ", "Ìô©Í∏à Í∞ÄÏùÑ", "ÍπäÏùÄ Í≤®Ïö∏"] },
            { emoji: "üíé", label: "Î≥¥ÏÑù", values: ["ÏûêÏàòÏ†ï", "ÏãúÌä∏Î¶∞", "ÏÇ¨ÌååÏù¥Ïñ¥", "ÎπÑÏ∑®", "Î°úÏ¶àÏøºÏ∏†", "ÏïÑÏø†ÏïÑÎßàÎ¶∞", "Í∞ÄÎÑ∑", "Ïò§Ìåî"] }
        ]
    };

    // ========== COLOR GENERATION ==========
    function nameToColors(name, birthday) {
        const input = (name + (birthday || '')).toLowerCase().trim();
        const h = hashStr(input);
        const rng = seededRandom(h);

        // Generate 3 harmonic colors
        const baseHue = Math.floor(rng() * 360);
        const colors = [
            { h: baseHue, s: 60 + rng() * 30, l: 45 + rng() * 15 },
            { h: (baseHue + 40 + rng() * 80) % 360, s: 55 + rng() * 35, l: 40 + rng() * 20 },
            { h: (baseHue + 160 + rng() * 80) % 360, s: 50 + rng() * 40, l: 35 + rng() * 25 }
        ];

        const typeIndex = Math.floor(rng() * 12);
        const traitIndices = [
            Math.floor(rng() * 8),
            Math.floor(rng() * 8),
            Math.floor(rng() * 8),
            Math.floor(rng() * 8)
        ];

        return { colors, typeIndex, traitIndices, rng, seed: h };
    }

    function hslToStr(c) {
        return `hsl(${Math.round(c.h)}, ${Math.round(c.s)}%, ${Math.round(c.l)}%)`;
    }

    function hslToRgb(h, s, l) {
        s /= 100; l /= 100;
        const k = n => (n + h / 30) % 12;
        const a = s * Math.min(l, 1 - l);
        const f = n => l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)));
        return [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];
    }

    // ========== AURA ANIMATION ==========
    let auraAnimId = null;
    let currentAuraData = null;

    function drawAura(canvas, colors, rng, animated = true) {
        const ctx = canvas.getContext('2d');
        const w = canvas.width, h = canvas.height;
        const cx = w / 2, cy = h / 2;
        let time = 0;

        // Create blob centers
        const blobs = colors.map((c, i) => ({
            x: cx + (rng() - 0.5) * w * 0.3,
            y: cy + (rng() - 0.5) * h * 0.3,
            r: w * (0.3 + rng() * 0.15),
            color: c,
            speed: 0.005 + rng() * 0.01,
            phase: rng() * Math.PI * 2
        }));

        // Particles
        const particles = [];
        for (let i = 0; i < 60; i++) {
            particles.push({
                x: rng() * w,
                y: rng() * h,
                size: 1 + rng() * 2.5,
                speed: 0.2 + rng() * 0.6,
                opacity: 0.3 + rng() * 0.5,
                phase: rng() * Math.PI * 2
            });
        }

        function render() {
            time += 0.016;

            // Dark background
            ctx.fillStyle = '#0a0a0f';
            ctx.fillRect(0, 0, w, h);

            // Draw blobs
            blobs.forEach((blob, i) => {
                const bx = blob.x + Math.sin(time * blob.speed * 60 + blob.phase) * 30;
                const by = blob.y + Math.cos(time * blob.speed * 40 + blob.phase) * 25;

                const gradient = ctx.createRadialGradient(bx, by, 0, bx, by, blob.r);
                const rgb = hslToRgb(blob.color.h, blob.color.s, blob.color.l);
                gradient.addColorStop(0, `rgba(${rgb[0]},${rgb[1]},${rgb[2]},0.6)`);
                gradient.addColorStop(0.4, `rgba(${rgb[0]},${rgb[1]},${rgb[2]},0.2)`);
                gradient.addColorStop(1, `rgba(${rgb[0]},${rgb[1]},${rgb[2]},0)`);

                ctx.globalCompositeOperation = 'screen';
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, w, h);
            });

            // Center glow
            ctx.globalCompositeOperation = 'screen';
            const centerGrad = ctx.createRadialGradient(cx, cy, 0, cx, cy, w * 0.15);
            centerGrad.addColorStop(0, 'rgba(255,255,255,0.15)');
            centerGrad.addColorStop(1, 'rgba(255,255,255,0)');
            ctx.fillStyle = centerGrad;
            ctx.fillRect(0, 0, w, h);

            // Particles
            ctx.globalCompositeOperation = 'screen';
            particles.forEach(p => {
                p.y -= p.speed;
                p.x += Math.sin(time * 2 + p.phase) * 0.5;
                if (p.y < -10) { p.y = h + 10; p.x = rng() * w; }

                const pOpacity = p.opacity * (0.5 + 0.5 * Math.sin(time * 3 + p.phase));
                ctx.fillStyle = `rgba(255,255,255,${pOpacity})`;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
            });

            ctx.globalCompositeOperation = 'source-over';

            // Subtle vignette
            const vignette = ctx.createRadialGradient(cx, cy, w * 0.3, cx, cy, w * 0.75);
            vignette.addColorStop(0, 'rgba(0,0,0,0)');
            vignette.addColorStop(1, 'rgba(0,0,0,0.5)');
            ctx.fillStyle = vignette;
            ctx.fillRect(0, 0, w, h);

            if (animated) {
                auraAnimId = requestAnimationFrame(render);
            }
        }

        if (auraAnimId) cancelAnimationFrame(auraAnimId);
        render();
    }

    // ========== MAIN LOGIC ==========
    function discoverAura() {
        const name = document.getElementById('nameInput').value.trim();
        if (!name) {
            showToast(currentLang === 'ko' ? 'Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî!' : 'Please enter your name!');
            return;
        }

        const birthday = document.getElementById('birthdayInput').value;
        const data = nameToColors(name, birthday);
        currentAuraData = { name, birthday, ...data };

        // Animate transition
        document.getElementById('inputSection').style.display = 'none';
        const result = document.getElementById('resultSection');
        result.style.display = 'block';

        // Display name
        document.getElementById('displayName').textContent = name.toUpperCase();

        // Draw aura
        const canvas = document.getElementById('auraCanvas');
        drawAura(canvas, data.colors, data.rng, true);

        // Aura type
        const typeData = auraTypes[currentLang][data.typeIndex];
        const typeName = document.getElementById('auraTypeName');
        typeName.textContent = typeData.name;
        typeName.style.background = `linear-gradient(135deg, ${hslToStr(data.colors[0])}, ${hslToStr(data.colors[1])})`;
        typeName.style.webkitBackgroundClip = 'text';
        typeName.style.webkitTextFillColor = 'transparent';
        typeName.style.backgroundClip = 'text';

        // Color dots
        const colorsDiv = document.getElementById('auraColors');
        colorsDiv.innerHTML = data.colors.map(c =>
            `<div class="color-dot" style="background:${hslToStr(c)}"></div>`
        ).join('');

        // Description
        document.getElementById('auraDescription').textContent = typeData.desc;

        // Traits
        const traits = traitSets[currentLang];
        const grid = document.getElementById('traitsGrid');
        grid.innerHTML = traits.map((t, i) => `
            <div class="trait-item">
                <span class="trait-emoji">${t.emoji}</span>
                <span class="trait-label">${t.label}</span>
                <div class="trait-value">${t.values[data.traitIndices[i]]}</div>
            </div>
        `).join('');

        // Smooth scroll
        result.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function tryAgain() {
        if (auraAnimId) cancelAnimationFrame(auraAnimId);
        document.getElementById('resultSection').style.display = 'none';
        document.getElementById('inputSection').style.display = 'block';
        document.getElementById('nameInput').value = '';
        document.getElementById('nameInput').focus();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ========== SHARE CARD ==========
    function generateShareCard() {
        return new Promise(resolve => {
            const canvas = document.getElementById('shareCard');
            const ctx = canvas.getContext('2d');
            const w = 1080, h = 1080;
            const data = currentAuraData;

            // Background
            ctx.fillStyle = '#0a0a0f';
            ctx.fillRect(0, 0, w, h);

            // Draw aura blobs (static)
            const rng2 = seededRandom(data.seed);
            const blobs = data.colors.map(c => ({
                x: w/2 + (rng2() - 0.5) * w * 0.3,
                y: h * 0.4 + (rng2() - 0.5) * h * 0.2,
                r: w * (0.25 + rng2() * 0.15),
                color: c
            }));

            blobs.forEach(blob => {
                const gradient = ctx.createRadialGradient(blob.x, blob.y, 0, blob.x, blob.y, blob.r);
                const rgb = hslToRgb(blob.color.h, blob.color.s, blob.color.l);
                gradient.addColorStop(0, `rgba(${rgb[0]},${rgb[1]},${rgb[2]},0.6)`);
                gradient.addColorStop(0.5, `rgba(${rgb[0]},${rgb[1]},${rgb[2]},0.15)`);
                gradient.addColorStop(1, `rgba(${rgb[0]},${rgb[1]},${rgb[2]},0)`);
                ctx.globalCompositeOperation = 'screen';
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, w, h);
            });

            // Vignette
            ctx.globalCompositeOperation = 'source-over';
            const vig = ctx.createRadialGradient(w/2, h*0.4, w*0.2, w/2, h*0.4, w*0.7);
            vig.addColorStop(0, 'rgba(0,0,0,0)');
            vig.addColorStop(1, 'rgba(0,0,0,0.6)');
            ctx.fillStyle = vig;
            ctx.fillRect(0, 0, w, h);

            // Name
            ctx.textAlign = 'center';
            ctx.fillStyle = 'white';
            ctx.font = '700 56px Inter, sans-serif';
            ctx.fillText(data.name.toUpperCase(), w/2, h * 0.72);

            // Aura type
            const typeData = auraTypes[currentLang][data.typeIndex];
            ctx.font = '400 28px Inter, sans-serif';
            ctx.fillStyle = 'rgba(255,255,255,0.7)';
            ctx.fillText(currentLang === 'ko' ? 'Ïò§Îùº ÌÉÄÏûÖ' : 'AURA TYPE', w/2, h * 0.78);
            ctx.font = '700 42px Inter, sans-serif';
            ctx.fillStyle = hslToStr(data.colors[0]);
            ctx.fillText(typeData.name, w/2, h * 0.84);

            // Color dots
            data.colors.forEach((c, i) => {
                ctx.beginPath();
                ctx.arc(w/2 - 50 + i * 50, h * 0.89, 14, 0, Math.PI * 2);
                ctx.fillStyle = hslToStr(c);
                ctx.fill();
            });

            // Watermark
            ctx.font = '300 22px Inter, sans-serif';
            ctx.fillStyle = 'rgba(255,255,255,0.35)';
            ctx.fillText('eastsea.monster/tools/name-aura', w/2, h * 0.96);

            resolve(canvas);
        });
    }

    async function downloadCard() {
        const canvas = await generateShareCard();
        const link = document.createElement('a');
        link.download = `aura-${currentAuraData.name.toLowerCase().replace(/\s/g, '-')}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();
        showToast(currentLang === 'ko' ? 'Ïπ¥ÎìúÍ∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!' : 'Card downloaded!');
    }

    // ========== SOCIAL SHARE ==========
    const shareUrl = 'https://eastsea.monster/tools/name-aura/';

    function getShareText() {
        if (!currentAuraData) return '';
        const type = auraTypes[currentLang][currentAuraData.typeIndex].name;
        return currentLang === 'ko'
            ? `‚ú® ÎÇ¥ Ïù¥Î¶Ñ Ïò§ÎùºÎäî "${type}"! ÎãπÏã†Ïùò Ïò§ÎùºÎèÑ ÌôïÏù∏Ìï¥ Î≥¥ÏÑ∏Ïöî ‚Üí`
            : `‚ú® My Name Aura is "${type}"! Discover yours ‚Üí`;
    }

    function shareTwitter() {
        const text = encodeURIComponent(getShareText());
        window.open(`https://twitter.com/intent/tweet?text=${text}&url=${encodeURIComponent(shareUrl)}`, '_blank');
    }
    function shareFacebook() {
        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`, '_blank');
    }
    function shareWhatsApp() {
        const text = encodeURIComponent(getShareText() + ' ' + shareUrl);
        window.open(`https://wa.me/?text=${text}`, '_blank');
    }
    function copyLink() {
        navigator.clipboard.writeText(shareUrl).then(() => {
            showToast(currentLang === 'ko' ? 'ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!' : 'Link copied!');
        });
    }

    // ========== TOAST ==========
    function showToast(msg) {
        const t = document.getElementById('toast');
        t.textContent = msg;
        t.classList.add('show');
        setTimeout(() => t.classList.remove('show'), 2500);
    }

    // ========== BACKGROUND CANVAS ==========
    function initBgCanvas() {
        const canvas = document.getElementById('bgCanvas');
        const ctx = canvas.getContext('2d');
        let w, h;

        function resize() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
        }
        resize();
        window.addEventListener('resize', resize);

        const stars = [];
        for (let i = 0; i < 80; i++) {
            stars.push({
                x: Math.random() * w,
                y: Math.random() * h,
                r: Math.random() * 1.5,
                speed: 0.1 + Math.random() * 0.3,
                phase: Math.random() * Math.PI * 2
            });
        }

        let t = 0;
        function draw() {
            t += 0.01;
            ctx.clearRect(0, 0, w, h);
            stars.forEach(s => {
                const opacity = 0.3 + 0.4 * Math.sin(t * s.speed * 10 + s.phase);
                ctx.fillStyle = `rgba(200, 180, 255, ${opacity})`;
                ctx.beginPath();
                ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
                ctx.fill();
            });
            requestAnimationFrame(draw);
        }
        draw();
    }

    // ========== INIT ==========
    document.addEventListener('DOMContentLoaded', () => {
        setLang(currentLang);
        initBgCanvas();

        // Enter key to discover
        document.getElementById('nameInput').addEventListener('keydown', e => {
            if (e.key === 'Enter') discoverAura();
        });

        // Check URL params for shared name
        const params = new URLSearchParams(window.location.search);
        const sharedName = params.get('name');
        if (sharedName) {
            document.getElementById('nameInput').value = sharedName;
            const bday = params.get('birthday');
            if (bday) document.getElementById('birthdayInput').value = bday;
            setTimeout(discoverAura, 500);
        }
    });
    </script>
</body>
</html>
