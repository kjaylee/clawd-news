# 016 - Rope Untangle (로프 풀기 퍼즐)

## 게임 컨셉
얽힌 로프/줄을 드래그해서 풀어내는 직관적인 퍼즐 게임. 하이퍼캐주얼 트렌드인 "정리/분류" 장르의 변형.

## 핵심 메카닉
1. **드래그 앤 드롭**: 로프의 끝점을 드래그하여 이동
2. **교차 감지**: 로프끼리 교차하면 빨간색으로 표시
3. **클리어 조건**: 모든 로프가 교차 없이 정리되면 성공
4. **힌트 시스템**: 광고 시청 후 한 로프의 정답 위치 표시

## 타겟 유저
- 캐주얼 퍼즐 유저 (25-45세)
- 스트레스 해소 목적의 유저
- 짧은 세션 플레이어 (2-3분)

## 차별점
- 단순 터치 인터랙션 (드래그만)
- 물리 시뮬레이션 느낌의 로프 렌더링
- ASMR 느낌의 로프 풀리는 사운드

## 수익 모델
1. **전면 광고**: 3스테이지마다
2. **리워드 광고**: 힌트, 스킵
3. **배너 광고**: 하단 고정
4. **인앱결제**: 광고 제거 ($2.99)

## 기술 스택
- HTML5 Canvas
- Vanilla JavaScript
- 선분 교차 알고리즘 (CCW)
- CSS 애니메이션

---

## 상세 설계

### 시스템 설계

#### 1. 게임 오브젝트
```
Rope {
  id: number
  color: string
  startPoint: {x, y}  // 드래그 가능
  endPoint: {x, y}    // 드래그 가능
  isIntersecting: boolean
}

Level {
  ropeCount: number   // 3 ~ 8
  ropes: Rope[]
  par: number         // 최소 이동 횟수
}
```

#### 2. 교차 판정 (CCW 알고리즘)
```javascript
function ccw(A, B, C) {
  return (C.y - A.y) * (B.x - A.x) > (B.y - A.y) * (C.x - A.x);
}

function intersects(A, B, C, D) {
  return ccw(A, C, D) !== ccw(B, C, D) && 
         ccw(A, B, C) !== ccw(A, B, D);
}
```

#### 3. 레벨 생성
- 정답 상태에서 시작
- 랜덤하게 점들을 섞어서 교차 발생
- 최소 1개 이상 교차 보장

### UI/UX 플로우

```
[타이틀] → [레벨 선택] → [게임 플레이] → [클리어] → [다음 레벨]
                ↓              ↓
           [설정]          [힌트/스킵]
                              ↓
                         [광고 시청]
```

#### 게임 화면 레이아웃
```
┌─────────────────────────┐
│ ← Level 15    ⚙️  💡×3 │  상단바
├─────────────────────────┤
│                         │
│    ●────────●           │
│       ╲  ╱              │
│        ╲╱               │  게임 영역
│        ╱╲               │
│    ●──╱──╲──●           │
│                         │
├─────────────────────────┤
│      Moves: 5           │  하단 정보
└─────────────────────────┘
```

### 밸런스 파라미터

| 레벨 | 로프 수 | 시작 교차 | 힌트 제공 |
|------|---------|-----------|-----------|
| 1-10 | 3 | 1-2 | 무료 1회 |
| 11-30 | 4 | 2-3 | 광고 |
| 31-60 | 5 | 3-4 | 광고 |
| 61-100 | 6 | 4-5 | 광고 |
| 101+ | 7-8 | 5-6 | 광고 |

### 사운드 디자인
- 드래그 시작: 부드러운 클릭
- 드래그 중: 미세한 마찰음
- 교차 해제: 탱글 풀리는 ASMR
- 클리어: 상쾌한 완료음

### 진행 저장
- LocalStorage 사용
- 저장 항목: 현재 레벨, 힌트 개수, 광고 제거 여부

---

**예상 개발 기간**: 2-3시간
**예상 볼륨**: 100+ 레벨 (절차적 생성)
