# 022 — Conveyor Sort Factory 🏭

> Pixel Flow (2026 최대 히트) 인스파이어 — 컨베이어 벨트 소팅 퍼즐

## 🎯 게임 컨셉
컨베이어 벨트 위로 흘러오는 색상 아이템을 올바른 빈(bin)에 분류하는 팩토리 퍼즐.
탭으로 레일 스위치를 전환해 아이템을 올바른 경로로 유도.
같은 색 아이템이 빈에 3개 모이면 폭발 → 점수 + 콤보.
빈이 넘치면 게임 오버.

## 🕹️ 핵심 메카닉
1. **컨베이어 벨트:** 아이템이 좌→우로 자동 이동
2. **레일 스위치:** 분기점을 탭하면 경로 전환 (위/아래)
3. **색상 매칭:** 빈에 같은 색 3개 → 클리어 + 콤보
4. **체인 콤보:** 연속 클리어 시 점수 배수 증가
5. **스피드업:** 웨이브마다 벨트 속도 증가

## 👥 타겟 유저
- 캐주얼 퍼즐 유저 (25-44세 여성 중심)
- Block Blast, Pixel Flow 유저
- 짧은 세션 (2-3분) 반복 플레이어

## 💎 차별점
- **팩토리 테마:** 공장 자동화의 만족감 (ASMR 느낌)
- **물리 기반 아이템 이동:** 자연스러운 컨베이어 애니메이션
- **프로그레시브 복잡도:** 벨트 1개 → 3개 → 분기 확장
- **콤보 시스템:** 연속 정확 분류 시 화려한 폭발 이펙트

## 💰 수익 모델
- **리워드 광고:** 추가 생명, 속도 감소 부스터
- **IAP:** 스킨 팩 (팩토리 테마 변경)
- **일일 챌린지:** 광고 시청 후 보너스 스테이지

## 🛠️ 기술 스택
- **HTML5 Canvas + JavaScript (Vanilla)**
- 외부 라이브러리 없이 순수 Canvas API
- 모바일 터치 + 데스크탑 클릭 지원

---

## 📐 시스템 설계

### 게임 오브젝트
```
ConveyorBelt {
  y: number          // 벨트 Y 위치
  speed: number      // 이동 속도 (px/frame)
  items: Item[]      // 현재 벨트 위 아이템
}

Item {
  x, y: number       // 위치
  color: string       // 'red'|'blue'|'green'|'yellow'|'purple'
  radius: 20px
  onBelt: number     // 소속 벨트 인덱스
}

Switch {
  x, y: number       // 분기점 위치
  direction: 'up'|'down'  // 현재 방향
  beltFrom: number
  beltTo: [number, number]  // 위/아래 벨트
}

Bin {
  x, y: number
  color: string
  items: number      // 현재 들어있는 아이템 수
  maxItems: 5        // 최대 용량
}
```

### 게임 루프
1. **스폰:** 왼쪽에서 랜덤 색상 아이템 생성 (2-4초 간격)
2. **이동:** 벨트 위 아이템 자동 이동
3. **분기:** 스위치 지점에서 현재 방향으로 이동
4. **수집:** 빈 도달 시 아이템 흡수
5. **클리어:** 빈에 3개 같은 색 → 폭발 애니메이션 → 점수
6. **오버플로우:** 빈 5개 초과 → 경고 → 7개 시 게임 오버
7. **웨이브:** 20개 아이템 클리어마다 속도 10% 증가

### 난이도 곡선
| 웨이브 | 벨트 수 | 색상 수 | 속도 | 스위치 |
|--------|---------|---------|------|--------|
| 1-5    | 2       | 3       | 1x   | 1      |
| 6-10   | 3       | 4       | 1.3x | 2      |
| 11-15  | 3       | 5       | 1.6x | 3      |
| 16+    | 4       | 5       | 2x   | 4      |

## 🎨 UI/UX 플로우

### 메인 화면
```
┌─────────────────────────┐
│  🏭 CONVEYOR SORT       │
│                         │
│    [▶ PLAY]             │
│    [🏆 HIGH SCORE: 0]   │
│                         │
│  Wave: --  Score: --    │
└─────────────────────────┘
```

### 게임 화면
```
┌─────────────────────────────────┐
│ Score: 1250  Wave: 3  Combo: x3 │
├─────────────────────────────────┤
│                          [🟥]   │
│ 🔴──🔵──🟢──▷──🔵── → [🟦]   │
│              ↕              [🟩]   │
│ 🟢──🔴──────▷──🟢── → [🟨]   │
│                                 │
│              [COMBO! x3 🔥]    │
└─────────────────────────────────┘
```

### 인터랙션
- **스위치 탭:** 분기 방향 전환 (즉시 반응)
- **빈 탭:** 빈 정보 확인 (현재 아이템 수)
- **스와이프:** 없음 (단순 탭 조작)

## ⚖️ 밸런스 파라미터
```javascript
const BALANCE = {
  SPAWN_INTERVAL: 2500,      // ms, 아이템 생성 간격
  SPAWN_INTERVAL_MIN: 800,   // ms, 최소 간격
  BELT_SPEED: 1.5,           // px/frame (60fps 기준)
  BELT_SPEED_MAX: 4.0,       // 최대 속도
  BIN_CAPACITY: 5,           // 빈 최대 용량
  MATCH_COUNT: 3,            // 클리어 필요 개수
  COMBO_MULTIPLIER: 0.5,     // 콤보당 추가 배수
  COMBO_TIMEOUT: 3000,       // ms, 콤보 유지 시간
  WAVE_CLEAR_COUNT: 20,      // 웨이브 클리어 아이템 수
  SPEED_INCREASE: 0.1,       // 웨이브당 속도 증가율
  OVERFLOW_WARNING: 4,       // 빈 경고 임계값
  OVERFLOW_GAMEOVER: 6,      // 빈 게임오버 임계값
  COLORS: ['#FF4444', '#4488FF', '#44CC44', '#FFCC00', '#CC44CC']
};
```

---
*Created: 2026-01-30 | Status: 미구현 | Trend: Pixel Flow 인스파이어*
