# 031 — Merge Bloom Garden 🌸

> Merge Mechanics ($9.7B Match시장) + Meta-Layer Garden Building = 2026 캐주얼 킬러

## 🎯 게임 컨셉
보드 위의 씨앗을 드래그&병합해서 꽃으로 키우는 머지 퍼즐. 같은 레벨 아이템 2개를 합치면
상위 아이템으로 진화. 만개한 꽃을 수확하면 정원 꾸미기 재화를 획득하고, 자기만의 정원을 
가꾸는 메타 게임. Merge + Cascade + Garden Decoration의 트리플 중독 루프.

## 🕹️ 핵심 메카닉

### 머지 시스템
1. **드래그 병합:** 같은 레벨 아이템을 드래그해서 합치기 (씨앗→새싹→봉오리→꽃→만개)
2. **5단계 진화 체인:** 씨앗(Lv1) → 새싹(Lv2) → 봉오리(Lv3) → 꽃(Lv4) → 만개(Lv5)
3. **꽃 종류:** 장미🌹, 해바라기🌻, 튤립🌷, 벚꽃🌸, 라벤더💜, 난초🪷 (6종)
4. **스페셜 병합:** 3개 동시 병합 → 한 단계 더 높은 레벨로
5. **수확:** 만개(Lv5) 꽃 탭 → 수확 → 정원 재화 + 보드에 새 씨앗 스폰

### 캐스케이드 요소
6. **자동 낙하:** 빈 공간으로 위 아이템 이동
7. **콤보 보너스:** 연속 병합 시 보너스 재화
8. **체인 리액션:** 수확 후 낙하 → 새 매칭 가능 → 자동 처리

### 정원 메타 게임 (차별화 핵심)
9. **정원 꾸미기:** 수확한 꽃으로 정원에 실제 배치
10. **정원 퀘스트:** "장미 3송이 심기" → 보상 (새 구역 해금, 장식 아이템)
11. **정원 레벨업:** 꽃 다양성 + 수량 기반 정원 레벨
12. **방문자:** 정원 레벨에 따라 나비🦋, 벌🐝, 새🐦 방문 (데코)

## 👥 타겟 유저
- 25-44세 여성 중심 (캐주얼 게임 61% 여성)
- Gardenscapes, Homescapes 유저
- Merge Dragons!, Merge Mansion 팬
- 꾸미기/수집 욕구가 있는 캐주얼 게이머

## 💎 차별점
1. **머지+정원 듀얼 루프:** 퍼즐 재미 + 꾸미기 만족감 동시 제공
2. **시각적 보상:** 정원이 점점 아름다워지는 장기 만족감
3. **2026 트렌드 정조준:** Merge(핫) + Meta-Layer(필수) + Cascade(쾌감) 삼중 결합
4. **저접근 장벽:** 드래그&드롭 한 가지 조작만

## 💰 수익 모델
- **리워드 광고:**
  - 에너지 충전 (10회/무브 제한)
  - 특별 씨앗 획득
  - 수확량 2배
- **IAP:**
  - 광고 제거: $2.99
  - 에너지 무제한 (1시간): $0.99
  - 프리미엄 꽃 팩 (레어 종): $1.99
  - 정원 테마 팩: $2.99
- **시즌 이벤트:**
  - 봄 벚꽃 시즌, 여름 해바라기 페스티벌 등

## 🛠️ 기술 스택
- **HTML5 Canvas + Vanilla JavaScript**
- 외부 라이브러리 없음
- 모바일 터치 + 데스크탑 클릭/드래그
- LocalStorage (진행 상황 + 정원 데이터)

---

## 📐 시스템 설계

### 게임 오브젝트
```javascript
Board {
  cols: 7,
  rows: 7,
  grid: Item[][],
  energy: number,         // 남은 무브 수
  maxEnergy: 30,
}

Item {
  col, row: number,
  x, y: number,           // 렌더링 위치
  type: string,           // 'rose'|'sunflower'|'tulip'|'cherry'|'lavender'|'orchid'
  level: number,          // 1(씨앗)~5(만개)
  dragging: boolean,
}

Garden {
  level: number,
  flowers: PlacedFlower[],
  decorations: Decoration[],
  visitors: Visitor[],
  quests: Quest[],
}

PlacedFlower {
  type: string,
  x, y: number,           // 정원 내 위치
  growthStage: number,
}

Quest {
  id: string,
  description: string,    // "장미 3송이 심기"
  target: { type: string, count: number },
  progress: number,
  reward: Reward,
}
```

### 게임 루프
1. **드래그 시작:** 아이템 선택
2. **드래그 이동:** 같은 레벨 아이템 위로 이동 시 하이라이트
3. **드롭 (병합):** 같은 레벨 → 레벨업. 에너지 -1
4. **캐스케이드:** 빈 공간 처리 → 낙하 → 새 씨앗 스폰
5. **수확 체크:** Lv5 아이템 탭 → 수확 → 정원 재화 지급
6. **퀘스트 체크:** 조건 달성 여부 확인 → 보상 지급
7. **에너지 체크:** 0이면 대기 (시간 회복 or 광고)

### 점수/재화 계산
```javascript
// 병합 점수
function mergeScore(level) {
  return level * level * 50; // Lv2=200, Lv3=450, Lv4=800, Lv5=1250
}

// 수확 재화
function harvestReward(flowerType) {
  return {
    coins: 100,
    gardenXP: 50,
    flower: flowerType, // 정원에 심을 수 있는 꽃
  };
}
```

### 진화 체인
```
씨앗🌱(Lv1) + 씨앗🌱(Lv1) = 새싹🌿(Lv2)
새싹🌿(Lv2) + 새싹🌿(Lv2) = 봉오리🌼(Lv3)
봉오리🌼(Lv3) + 봉오리🌼(Lv3) = 꽃💐(Lv4)
꽃💐(Lv4) + 꽃💐(Lv4) = 만개🌺(Lv5) ← 수확 가능!
```

### 에너지 시스템
```javascript
const ENERGY = {
  MAX: 30,
  MERGE_COST: 1,
  REGEN_MS: 120000,   // 2분마다 1 회복
  AD_REWARD: 5,        // 광고 시청 시 +5
};
```

## 🎨 UI/UX 플로우

### 메인 화면
```
┌─────────────────────────┐
│   🌸 MERGE BLOOM 🌸     │
│       GARDEN            │
│                         │
│   [🌱 퍼즐 플레이]      │
│   [🏡 내 정원]          │
│   [📋 퀘스트]           │
│                         │
│   🪙 1,234  ⚡ 28/30    │
│   [⚙️ 설정]            │
└─────────────────────────┘
```

### 퍼즐 화면 (7×7)
```
┌─────────────────────────┐
│ ⚡ 25/30  🪙 3,456      │
│ 🏆 Level 12             │
├─────────────────────────┤
│ 🌱🌿🌱🌷🌱🌿🌼 │
│ 🌿🌱🌹🌱🌿🌱🌱 │
│ 🌼🌱🌿🌿🌱🌼🌿 │
│ 🌱🌻🌱🌼🌿🌱🌹 │
│ 🌿🌱🌹🌱🌱🌿🌱 │
│ 🌱🌼🌿🌱🌻🌱🌿 │
│ 🌿🌱🌱🌿🌱🌼🌱 │
├─────────────────────────┤
│ Quest: 🌹×3 심기 [2/3]  │
└─────────────────────────┘
```

### 정원 화면
```
┌─────────────────────────┐
│ 🏡 내 정원 Lv.5        │
│ 🦋 방문자: 3            │
├─────────────────────────┤
│                         │
│  🌹   🌻   🌷          │
│     🌸        🌹        │
│  🌿  🪻   🌿  🌻      │
│     🦋      🐝         │
│  🌷     🌹    🌸       │
│                         │
├─────────────────────────┤
│ [🌱 심기] [🎨 꾸미기]   │
└─────────────────────────┘
```

## ⚖️ 밸런스 파라미터
```javascript
const BALANCE = {
  // 보드
  COLS: 7,
  ROWS: 7,
  NUM_FLOWER_TYPES: 3,    // 초반 (레벨에 따라 증가)
  MAX_FLOWER_TYPES: 6,    // 최대 꽃 종류
  MAX_LEVEL: 5,
  
  // 에너지
  ENERGY_MAX: 30,
  MERGE_COST: 1,
  REGEN_INTERVAL_MS: 120000,
  
  // 보드 리필
  SPAWN_RATE: 0.7,        // 빈 칸에 새 씨앗 스폰 확률
  HIGH_LEVEL_SPAWN: 0.05, // Lv2 이상 스폰 확률 (낮음)
  
  // 점수
  MERGE_SCORE_MULT: 50,   // level² × mult
  COMBO_BONUS: 1.5,       // 연속 병합 배수
  
  // 정원
  GARDEN_XP_PER_HARVEST: 50,
  GARDEN_LEVEL_XP: [0, 100, 300, 600, 1000, 1500, 2200, 3000],
  VISITOR_THRESHOLDS: [3, 8, 15, 25, 40], // 정원 꽃 수 → 방문자 해금
  
  // 퀘스트
  QUESTS_PER_LEVEL: 3,
  QUEST_REWARDS: { coins: 200, xp: 100 },
};
```

## 📈 리텐션 요소
- **정원 성장:** 플레이할수록 정원이 아름다워짐 (장기 목표)
- **퀘스트 체인:** 완료하면 새 퀘스트 → 계속 플레이 동기
- **수집 욕구:** 6종 꽃 전부 만개시키기
- **방문자 시스템:** 특정 조건 → 희귀 동물 방문 (나비, 벌새, 무당벌레)
- **일일 보너스:** 매일 접속 시 특별 씨앗
- **시즌 이벤트:** 한정 꽃 + 정원 장식

## 📊 상업적 전망
- **머지 시장:** Merge Dragons! $1B+, Merge Mansion top 100 매출
- **정원 게임:** Gardenscapes D30 리텐션 26% (캐주얼 상위)
- **타겟:** 61% 여성 캐주얼 게이머 (25-44세)
- **트렌드 적합:** 머지(핫) + 메타레이어(필수) + 캐스케이드(쾌감)
- **수익 구조:** 에너지 시스템 + 시즌 콘텐츠 → 장기 수익

---
*Created: 2026-01-30 18:00 | Status: 미구현 | Trend: Merge + Meta-Layer + Garden Building*
