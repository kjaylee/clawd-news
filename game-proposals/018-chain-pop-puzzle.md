# 018 - Chain Pop Puzzle

## 게임 컨셉
연결된 같은 색 블록을 터뜨리는 퍼즐 게임. 2개 이상 연결된 블록을 탭하면 팝! 연쇄 반응으로 콤보 달성.

## 핵심 메카닉
- **탭 투 팝**: 2개 이상 연결된 같은 색 블록 터치 시 제거
- **중력 낙하**: 블록 제거 후 위 블록이 아래로 떨어짐
- **좌측 이동**: 빈 열 발생 시 우측 블록이 좌측으로 밀림
- **콤보 시스템**: 큰 그룹 제거 시 점수 배수 증가
- **목표 클리어**: 스테이지별 목표 점수/특정 색 제거

## 타겟 유저
- 캐주얼 퍼즐 유저 (25-45세)
- 짧은 플레이 세션 선호
- 단순하지만 전략적인 게임 원함

## 차별점
- **프리뷰 시스템**: 터치 전 제거될 블록 영역 미리보기
- **파워업 블록**: 폭탄(주변 제거), 레인보우(모든 색 매칭)
- **챌린지 모드**: 제한 시간 내 최대 점수

## 수익 모델
- 광고 기반 (스테이지 클리어 후 보상형 광고)
- 파워업 구매 (IAP)
- 무제한 목숨 구독

## 기술 스택
- **엔진**: Vanilla JavaScript + Canvas
- **사운드**: Web Audio API
- **저장**: localStorage (진행 상황)
- **배포**: GitHub Pages

---

## 시스템 설계

### 게임 보드
- 10x10 그리드
- 5가지 색상 블록
- 최소 연결 수: 2개

### 점수 계산
```
점수 = 블록수 * (블록수 - 1) * 10
- 2블록: 20점
- 3블록: 60점
- 5블록: 200점
- 10블록: 900점
```

### 스테이지 시스템
- 레벨 1-10: 목표 점수 달성
- 레벨 11-20: 특정 색 블록 N개 제거
- 레벨 21+: 복합 목표 + 제한 턴

---

## UI/UX 플로우

### 메인 화면
```
[Chain Pop Puzzle]
    [▶ Play]
   [Settings]
  [High Score]
```

### 게임 화면
```
Level: 5  |  Score: 1,240  |  Goal: 3,000
┌────────────────────┐
│ 🟥🟦🟩🟦🟥🟨🟩🟥🟦🟩 │
│ 🟨🟥🟥🟩🟦🟥🟨🟦🟩🟥 │
│ ...                │
└────────────────────┘
       [Hint] [Shuffle]
```

### 팝 애니메이션
1. 터치된 그룹 하이라이트 (0.2s)
2. 블록 확대 + 투명화 (0.3s)
3. 파티클 이펙트 (0.2s)
4. 중력 낙하 (0.4s)
5. 좌측 이동 (0.3s)

---

## 밸런스 파라미터

```javascript
const BALANCE = {
  gridWidth: 10,
  gridHeight: 10,
  colorCount: 5,
  minMatchSize: 2,
  
  // 점수
  scoreFormula: (n) => n * (n - 1) * 10,
  
  // 스테이지
  levelGoals: {
    1: { type: 'score', target: 1000 },
    5: { type: 'score', target: 3000 },
    10: { type: 'color', color: 'red', count: 30 },
  },
  
  // 파워업
  bombRadius: 2, // 3x3 영역
  rainbowSpawnChance: 0.02, // 2%
  
  // 난이도 증가
  colorIncreaseAt: [15, 25], // 레벨 15에서 6색, 25에서 7색
};
```

---

## 구현 우선순위

1. **Core**: 그리드 렌더링, 연결 탐지, 블록 제거
2. **Physics**: 중력 낙하, 좌측 이동 애니메이션
3. **UI**: 점수, 레벨, 목표 표시
4. **Polish**: 파티클, 사운드, 콤보 텍스트
5. **Meta**: 스테이지 시스템, 저장/불러오기
