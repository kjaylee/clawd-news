# 008: Pipe Connect Puzzle (파이프 커넥트 퍼즐)

## 게임 컨셉
파이프 조각을 회전시켜 물이 시작점에서 끝점까지 흐르도록 연결하는 퍼즐 게임.
탭하면 파이프가 90도 회전. 모든 파이프가 올바르게 연결되면 물이 흘러 스테이지 클리어.

## 핵심 메카닉
- **탭 회전:** 파이프 조각을 탭하면 시계방향 90도 회전
- **연결 검증:** 시작점→끝점까지 물이 연결되면 클리어
- **물 흐름 애니메이션:** 클리어 시 파란 물이 파이프를 따라 흐르는 만족스러운 연출
- **그리드 기반:** 5×5 → 6×6 → 7×7 점진적 확대
- **파이프 종류:** 직선(ㅡ), 곡선(ㄱ), T자, 십자(+), 시작/끝 포인트

## 타겟 유저
- 퍼즐 게임 선호 캐주얼 유저 (25-45세)
- 출퇴근/대기 시간 짧은 세션 플레이어
- 논리적 사고를 즐기는 유저

## 차별점
- 클리어 시 물 흐름 애니메이션의 시각적 만족감
- 레벨 생성 알고리즘으로 무한 퍼즐 제공
- 힌트 시스템 (광고 시청 후 1개 파이프 자동 정렬)
- 깔끔한 미니멀 디자인

## 수익 모델
- 배너 광고 (하단)
- 힌트 사용 시 리워드 광고
- 광고 제거 인앱 구매 ($2.99)

## 기술 스택
- HTML5 Canvas + Vanilla JavaScript
- 터치/클릭 이벤트
- CSS 애니메이션 (물 흐름)
- 로컬 스토리지 (진행 저장)

## 시스템 설계

### 레벨 생성 알고리즘
1. 그리드에 시작점과 끝점 배치
2. 경로 탐색으로 유효한 파이프 연결 생성
3. 빈 셀에 랜덤 파이프 배치
4. 모든 파이프를 랜덤 회전 → 퍼즐 완성

### 파이프 타입
```
STRAIGHT: ─ (좌-우 또는 상-하)
CURVE:    ┘ (두 인접면 연결)
TEE:      ┴ (세 면 연결)
CROSS:    ┼ (네 면 연결)
START:    ● → (한 면 출구)
END:      → ● (한 면 입구)
```

### 연결 검증 로직
- BFS/DFS로 시작점에서 끝점까지 경로 탐색
- 각 파이프의 현재 회전 상태에서 열린 방향 계산
- 인접 파이프와 열린 방향이 맞물리는지 확인

## UI/UX 플로우
1. **메인 화면:** "Pipe Connect" 타이틀 + Play 버튼 + 레벨 표시
2. **게임 화면:** 그리드 + 파이프 + 이동 횟수 + 힌트 버튼
3. **클리어 연출:** 물 흐름 애니메이션 → 별점 → Next Level
4. **색상 테마:** 다크 배경 + 밝은 파이프 + 파란 물

## 밸런스 파라미터
- Level 1-10: 5×5 그리드, 경로 길이 5-8
- Level 11-25: 6×6 그리드, 경로 길이 7-12
- Level 26+: 7×7 그리드, 경로 길이 10-16, 교차 경로 추가
- 힌트: 레벨당 1회 무료, 이후 광고
- 별점: ★★★(최소 회전), ★★(2배 이내), ★(클리어만)
