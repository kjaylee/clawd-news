# 043 - Pixel Ant Colony (픽셀 개미 왕국)

## 게임 컨셉
2D 사이드뷰 개미굴 시뮬레이션 + 아이들 게임. 플레이어가 터널을 파고, 개미가 자동으로 자원을 수집하며, 왕국을 확장하는 아이들/시뮬레이션 하이브리드. Pocket Ants (1,000만+ DL), Ant Colony: Wild Forest 트렌드 반영. **시뮬레이션 장르 CPI $0.59** (퍼즐 대비 최저) + 하이브리드 캐주얼 프로그레션.

## 핵심 메카닉
- **터널 굴착**: 스와이프/드래그로 지하에 터널 그리기 → 개미가 따라 이동
- **자원 수집**: 개미가 식량(잎, 과일), 광물(보석) 자동 수집
- **방 건설**: 특정 노드에 기능실 배치 (저장소, 부화실, 여왕실, 군대 막사)
- **개미 진화**: 일개미 → 병정개미 → 날개개미 (자원 투자)
- **적 방어**: 주기적 침입 (거미, 지네) → 병정개미가 자동 전투
- **여왕 업그레이드**: 여왕 레벨업 → 개미 생산속도, 최대 인구, 특수 능력
- **아이들 수익**: 오프라인 중에도 자원 수집 (시간 기반)

## 차별점
1. **시뮬레이션 장르 부재**: 포트폴리오에 순수 시뮬/아이들 없음
2. **최저 CPI**: 시뮬레이션 $0.59, D7 ROAS 8.5% (2026 최고 효율)
3. **직관적 터널 그리기**: 자유형 경로 = 창의적 왕국 설계
4. **아이들 + 능동 혼합**: 방치해도 성장, 적극 플레이하면 빠른 성장
5. **픽셀 아트**: 레트로 감성 + 개발 효율 (스프라이트 간단)

## 타겟 유저
- **1차**: 아이들 게임 팬 (방치형 성장 만족감)
- **2차**: 시뮬레이션 선호층 (개미굴 건설 만족감)
- **3차**: 캐주얼 전연령 (귀여운 개미 캐릭터)

## 수익 모델
- **보상 광고**: 자원 ×2, 오프라인 수익 ×2, 시간 가속 (2시간 스킵)
- **전면 광고**: 5분마다 (게임 흐름 방해 최소화)
- **IAP**: 광고 제거 $2.99, 보석 팩 $0.99~$9.99, 프리미엄 여왕 스킨 $1.99
- **시즌 패스**: 월간 보너스 (자원 부스트, 특수 개미 종)

## 기술 스택
- Pure HTML5 Canvas (단일 파일)
- Vanilla JavaScript
- 픽셀 아트 (캔버스 직접 렌더링)
- LocalStorage (저장)

---

## 상세 설계

### 시스템 설계

#### 세계 구조
```javascript
const WORLD = {
  width: 800,
  height: 1200,     // 지하가 대부분
  surfaceY: 200,    // 지표면
  grid: [],          // 32x48 타일맵 (각 25px)
  // 타일: DIRT, AIR, TUNNEL, ROOM, ROCK, FOOD, GEM
};
```

#### 개미 시스템
```javascript
const ANT_TYPES = {
  worker: { speed: 1.0, carry: 1, hp: 10, cost: 0 },
  soldier: { speed: 0.8, carry: 0, hp: 30, attack: 5, cost: 50 },
  scout: { speed: 1.5, carry: 0.5, hp: 15, cost: 30 },
  winged: { speed: 2.0, carry: 2, hp: 20, cost: 100 },
};

// 개미 AI: 패스파인딩 (A*) + 상태머신
// states: IDLE → SEEK_FOOD → CARRY → DEPOSIT → IDLE
//         IDLE → PATROL → FIGHT → RETURN
```

#### 방 시스템
```javascript
const ROOMS = {
  storage:  { size: 3, capacity: 500, cost: 100 },  // 자원 저장
  hatchery: { size: 3, production: 1, cost: 200 },   // 개미 생산
  queenRoom: { size: 4, boost: 1.5, cost: 500 },     // 여왕 버프
  barracks: { size: 3, soldiers: 5, cost: 300 },      // 병정 훈련
  garden:   { size: 3, foodRate: 2, cost: 400 },      // 식량 자급
};
```

#### 침입 시스템
```javascript
// 5분마다 적 침입 (난이도 점진 증가)
const ENEMIES = {
  spider:   { hp: 20, attack: 3, speed: 0.5, loot: 30 },
  centipede: { hp: 50, attack: 5, speed: 0.3, loot: 80 },
  beetle:   { hp: 80, attack: 8, speed: 0.2, loot: 150 },
  antlion:  { hp: 150, attack: 12, speed: 0.4, loot: 300 },
};
```

### UI/UX 플로우

#### 메인 화면
```
┌──────────────────────┐
│  🐜 PIXEL ANT COLONY │
│                      │
│   Colony: Level 12   │
│   Ants: 47/60        │
│   🍃 1,234  💎 56    │
│                      │
│     [▶ PLAY]         │
│   [🏪 Shop]          │
│   [👑 Queen]         │
│   [📊 Stats]         │
│                      │
└──────────────────────┘
```

#### 게임 화면
```
┌──────────────────────┐
│ 🍃 1,234  💎 56  🐜47│
├──────────────────────┤
│☀️ ☁️     🌳  🌿 🍎    │ ← 지표면
│══════════════════════│
│  ○·····○····○       │ ← 터널 (○=방)
│  │     │    │       │
│  ○·····○    ○···○   │
│        │         │   │
│    🐜→ ○····○···○   │ ← 개미 이동
│             │       │
│         👑○─○       │ ← 여왕실
│                      │
│  [🔨Dig] [🏠Room] [⚔️]│
└──────────────────────┘
```

#### 오프라인 복귀
```
┌──────────────────────┐
│  🐜 Welcome Back!    │
│                      │
│  While you were away │
│  (3h 24m):          │
│                      │
│  🍃 +2,340 food      │
│  💎 +12 gems         │
│  🐜 +5 new ants      │
│  ⚔️ 2 raids defended  │
│                      │
│  [🎬 ×2 Bonus]       │
│  [✓ Collect]         │
└──────────────────────┘
```

### 밸런스 파라미터

| 여왕 레벨 | 최대 개미 | 생산 간격 | 방 최대 | 침입 난이도 |
|-----------|----------|-----------|---------|------------|
| 1-3       | 15       | 30초      | 3       | spider only |
| 4-6       | 30       | 25초      | 5       | +centipede |
| 7-9       | 45       | 20초      | 8       | +beetle    |
| 10-12     | 60       | 15초      | 10      | +antlion   |
| 13+       | 80       | 10초      | 15      | boss waves |

| 파라미터 | 값 | 설명 |
|---------|-----|------|
| TILE_SIZE | 25px | 타일 크기 |
| DIG_SPEED | 0.5s/tile | 굴착 속도 |
| ANT_SPEED | 50px/s | 기본 이동 속도 |
| FOOD_SPAWN | 30s | 지표 식량 리스폰 |
| RAID_INTERVAL | 300s | 적 침입 간격 |
| OFFLINE_RATE | 0.3 | 오프라인 수익률 (30%) |
| MAX_OFFLINE | 8h | 최대 오프라인 보상 시간 |

### 비주얼 스타일
- **16-bit 픽셀아트**: 레트로 도트 그래픽
- **흙/갈색 톤**: 지하 터널 (다크 브라운 → 라이트 브라운)
- **초록 지표면**: 풀, 나무, 하늘
- **귀여운 개미**: 2프레임 걷기 애니메이션, 머리/몸통/다리 구분
- **파티클**: 굴착 시 흙 파편, 전투 시 스파크

---
*생성일: 2026-01-31*
*기반 트렌드: 시뮬레이션 CPI $0.59 최저 + D7 ROAS 8.5% 최고, Pocket Ants 1,000만+ DL, 아이들 하이브리드 D30 리텐션 26%*
