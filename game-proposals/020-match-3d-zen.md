# 020. Match 3D Zen

## 게임 컨셉
3D 공간에 쌓인 아이템들을 같은 종류 3개씩 매칭해서 제거하는 릴렉싱 퍼즐 게임. 마작 솔리테어의 현대적 변형으로, 2025-2026년 APAC 시장에서 급성장 중인 장르.

## 핵심 메카닉
- **3D 아이템 스택**: 다양한 형태로 쌓인 3D 오브젝트들
- **매칭 슬롯**: 하단에 7칸 슬롯, 아이템 선택 시 슬롯에 추가
- **3매치 제거**: 같은 아이템 3개가 슬롯에 모이면 자동 제거
- **게임 오버**: 슬롯 7칸 다 차면 실패
- **셔플/힌트**: 막혔을 때 도움 기능

## 타겟 유저
- 30-50대 여성 캐주얼 게이머
- 릴렉싱/힐링 게임 선호자
- 짧은 세션 플레이어 (3-5분)

## 차별점
- **Zen 테마**: 자연 사운드, 부드러운 애니메이션
- **다양한 카테고리**: 음식, 과일, 동물, 악기 등
- **시즌 이벤트**: 설날, 크리스마스 등 특별 아이템
- **컬렉션 시스템**: 매칭한 아이템 도감

## 수익 모델
- **보상형 광고**: 셔플, 힌트, 되돌리기
- **스테이지 간 삽입 광고**
- **인앱 구매**: 광고 제거, 무제한 힌트

## 기술 스택
- HTML5 Canvas (2.5D 효과)
- Vanilla JavaScript
- CSS3 Transform (3D 느낌)
- LocalStorage

---

## 시스템 설계

### 게임 오브젝트
```javascript
Item {
  type: string      // 'apple', 'banana', etc.
  x, y, z: number   // 3D 좌표
  layer: number     // 레이어 (위에 있으면 선택 가능)
  blocked: boolean  // 다른 아이템에 가려짐
}

Level {
  items: Item[]
  pattern: string   // 'pyramid', 'cube', 'random'
  itemTypes: number // 종류 수 (3의 배수)
}

Slot {
  items: Item[]     // 최대 7개
}
```

### 레벨 생성
1. 패턴 선택 (피라미드, 큐브, 원형 등)
2. 아이템 종류 결정 (레벨별 6-15종)
3. 각 종류 3개씩 배치
4. Z축 레이어 계산
5. 가려짐 상태 계산

### 선택 가능 판정
- Z축 최상위 레이어
- 좌우 중 한쪽이 비어있음
- 위가 비어있음

---

## UI/UX 플로우

### 메인 화면
```
┌─────────────────────┐
│   🧘 Match 3D Zen   │
│                     │
│   [▶ PLAY]         │
│   [📚 Collection]   │
│                     │
│   Level: 58        │
│   ⭐ 2,340         │
└─────────────────────┘
```

### 게임 화면
```
┌─────────────────────┐
│ Lv.58   🔄  💡  ⏸️  │
├─────────────────────┤
│                     │
│      🍎 🍊         │
│    🍋 🍇 🍓 🍌     │
│   🍑 🥝 🍒 🍈 🍊   │
│  🍎 🍋 🍇 🍓 🍌 🍑  │
│ 🥝 🍒 🍈 🍎 🍋 🍇 🍓│
│                     │
├─────────────────────┤
│ [🍎][🍋][🍎][  ][  ][  ][  ] │
│      ▲ 매칭 슬롯 (7칸)      │
└─────────────────────┘
```

### 인터랙션
1. 아이템 탭 → 슬롯에 추가 (애니메이션)
2. 3개 모이면 → 반짝 + 제거
3. 7칸 다 차면 → 게임 오버
4. 모두 제거 → 레벨 클리어

---

## 밸런스 파라미터

| 레벨 | 아이템 종류 | 총 아이템 | 패턴 |
|------|------------|----------|------|
| 1-10 | 6 | 18 | 단순 피라미드 |
| 11-30 | 9 | 27 | 2층 피라미드 |
| 31-60 | 12 | 36 | 3층 큐브 |
| 61-100 | 15 | 45 | 복잡한 형태 |
| 100+ | 18 | 54 | 랜덤 복합 |

### 도움 기능
- **힌트**: 매칭 가능한 아이템 하이라이트 (50코인)
- **셔플**: 위치 재배치 (100코인)
- **되돌리기**: 마지막 선택 취소 (30코인)

### 보상
- 레벨 클리어: +20 코인
- 힌트 없이 클리어: +10 보너스
- 연속 클리어 보너스: x1.5

---

## 구현 우선순위
1. 2.5D 아이템 렌더링 (이모지 활용)
2. 탭 선택 + 슬롯 추가
3. 3매치 판정 + 제거 애니메이션
4. 게임오버/클리어 판정
5. 레벨 생성 시스템
6. 힌트/셔플 기능
7. 진행 저장 + 컬렉션
