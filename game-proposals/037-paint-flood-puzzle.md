# 037 - Paint Flood Puzzle (페인트 플러드)

## 게임 컨셉
화려한 색상의 격자판을 하나의 색으로 통일하는 전략 퍼즐. 좌상단에서 시작하여 인접한 같은 색을 흡수하며 영역을 확장. 최소 턴 수로 전체 보드를 채우면 승리.

## 핵심 메카닉
- **Flood Fill**: 화면 하단 색상 버튼 탭 → 현재 영역이 해당 색으로 변경
- **영역 확장**: 변경된 색과 인접한 같은 색 셀이 자동으로 영역에 합류
- **턴 제한**: 각 레벨에 최대 턴 수 존재 (별점에 따라 3/2/1 star)
- **체인 반응**: 한 번에 많은 셀을 흡수하면 콤보 이펙트 + 보너스 점수

## 차별점
- **기존 포트폴리오에 없는 Flood Fill 메카닉** (유일한 영역 확장 퍼즐)
- **원탭 게임플레이** — 색상 버튼 하나만 탭 (극도로 접근성 높음)
- **깊은 전략** — 최적 경로 탐색은 NP-hard에 가까운 난이도
- **절차적 생성** — 무한 레벨 가능
- **2026 하이브리드 캐주얼 트렌드**: 단순 시작 + 깊은 마스터리

## 타겟 유저
- **1차**: 캐주얼 퍼즐러 (30-50대, 짧은 세션)
- **2차**: 전략 퍼즐 마니아 (최적해 도전)
- **접근성**: 색맹 모드 (패턴/숫자 오버레이)

## 수익 모델
- **광고**: 레벨 사이 전면 광고, 힌트 보상 광고
- **IAP**: 힌트 팩 (최적 색상 하이라이트), 테마 팩 (네온, 파스텔, 레트로)
- **데일리 챌린지**: 일일 시드 퍼즐 → 리더보드

## 기술 스택
- **Pure HTML5 + Canvas** (단일 파일)
- **Flood Fill 알고리즘** (BFS/DFS)
- **절차적 레벨 생성**: 시드 기반 랜덤 그리드 + 해결 가능성 검증
- **로컬 스토리지**: 진행도, 통계, 데일리 히스토리

---

## 상세 설계

### 시스템 설계

#### 게임 보드
- **그리드 크기**: 레벨에 따라 6×6 → 8×8 → 10×10 → 14×14
- **색상 수**: 4색(입문) → 5색(일반) → 6색(고급) → 7색(마스터)
- **데이터 구조**: 2D 배열 `board[row][col]` (값 = 색상 인덱스)

#### 플러드 필 로직
```
function flood(board, newColor):
  oldColor = board[0][0]
  if oldColor == newColor: return
  BFS from (0,0):
    change all connected oldColor cells to newColor
    merge newly adjacent same-color cells into flood region
  turns++
  check win condition (all cells same color)
```

#### 레벨 생성
```
function generateLevel(size, numColors, seed):
  RNG with seed
  fill grid with random colors
  verify solvable (flood fill simulation ≤ maxTurns)
  if not solvable: regenerate with seed+1
  return { board, maxTurns, starThresholds }
```

#### 별점 기준
- ⭐⭐⭐: turns ≤ optimal + 0
- ⭐⭐: turns ≤ optimal + 2
- ⭐: turns ≤ maxTurns

### UI/UX 플로우

#### 메인 화면
```
┌──────────────────────┐
│  🎨 Paint Flood      │
│                      │
│  ▶ Campaign (Lv.47)  │
│  📅 Daily Challenge  │
│  🏆 Stats            │
│  ⚙️ Settings         │
└──────────────────────┘
```

#### 게임 플레이 화면
```
┌──────────────────────┐
│ Lv.12  Turns: 5/14   │
│ ⭐⭐⭐≤10 ⭐⭐≤12 ⭐≤14│
├──────────────────────┤
│ ┌──┬──┬──┬──┬──┬──┐ │
│ │🔴│🔴│🔵│🟡│🟢│🔵│ │
│ ├──┼──┼──┼──┼──┼──┤ │
│ │🔴│🟡│🟡│🔵│🟢│🟡│ │
│ ├──┼──┼──┼──┼──┼──┤ │
│ │🟢│🟢│🔴│🔴│🔵│🔴│ │
│ ├──┼──┼──┼──┼──┼──┤ │
│ │🔵│🟡│🟢│🟡│🔴│🟢│ │
│ ├──┼──┼──┼──┼──┼──┤ │
│ │🟡│🔴│🔵│🟢│🟡│🔵│ │
│ ├──┼──┼──┼──┼──┼──┤ │
│ │🔵│🟢│🔴│🔵│🔴│🟡│ │
│ └──┴──┴──┴──┴──┴──┘ │
├──────────────────────┤
│  🔴  🔵  🟡  🟢     │
│  ↩️ Undo  💡 Hint    │
└──────────────────────┘
```

#### 승리 화면
```
┌──────────────────────┐
│     ⭐⭐⭐           │
│   Level Complete!    │
│   12 turns (opt: 10) │
│                      │
│  ▶ Next Level        │
│  🔄 Retry (for ⭐⭐⭐)│
│  🏠 Home             │
└──────────────────────┘
```

### 밸런스 파라미터

| 레벨 범위 | 그리드 | 색상 수 | 최대 턴 | 난이도 |
|-----------|--------|---------|---------|--------|
| 1-10      | 6×6    | 4       | 15-20   | 입문   |
| 11-30     | 6×6    | 5       | 14-18   | 쉬움   |
| 31-60     | 8×8    | 5       | 18-22   | 보통   |
| 61-100    | 8×8    | 6       | 20-25   | 어려움 |
| 101-150   | 10×10  | 6       | 22-28   | 하드   |
| 151+      | 14×14  | 7       | 28-35   | 마스터 |

| 파라미터 | 값 | 설명 |
|---------|-----|------|
| UNDO_LIMIT | 3/게임 | 무료 되돌리기 횟수 |
| HINT_COST | 광고 1회 | 최적 다음 색상 표시 |
| DAILY_SEED | YYYYMMDD | 모든 유저 같은 퍼즐 |
| COMBO_THRESHOLD | 8 셀 | 콤보 이펙트 발동 기준 |
| STAR3_BONUS | +100 | 3스타 클리어 보너스 점수 |

### 색맹 접근성
- 각 색상에 고유 패턴 오버레이 (줄무늬, 점, 체크, 대각선 등)
- 설정에서 ON/OFF 토글
- 고대비 모드 지원

## 구현 상태
- [x] 구현 완료 (2026-01-31)

