# Screw Sort Factory - 나사 정리 팩토리

## 게임 컨셉
2025~2026년 최고 트렌드인 "Screw Sort Puzzle"을 HTML5로 구현. 보드에 꽂힌 다양한 색상의 나사를 같은 색끼리 분류하여 빈 홀에 정리하는 물리 퍼즐. Hybrid-casual 구조로, 정렬 퍼즐 코어 루프 + 팩토리 빌딩 메타 레이어를 결합.

## 핵심 메카닉
- **나사 정렬**: 보드 위에 여러 색상의 나사가 꽂혀 있음. 탭하면 나사가 빠져서 같은 색 슬롯으로 이동
- **슬롯 시스템**: 하단에 색상별 슬롯 3~5개. 같은 색 나사 3개가 모이면 클리어
- **물리 애니메이션**: 나사가 돌면서 빠지고 꽂히는 만족스러운 물리 효과
- **난이도 진행**: 초반 2색 → 후반 6색+, 나사 겹침, 잠긴 나사 등장
- **힌트 시스템**: 광고 시청으로 힌트 또는 되돌리기 사용

## 메타 레이어 (팩토리 빌딩)
- 스테이지 클리어 시 **볼트(재화)** 획득
- 볼트로 자신만의 **미니 팩토리** 건설 및 업그레이드
- 팩토리에서 자동으로 소량의 볼트 생산 (아이들 수익)
- 팩토리 테마: 나사 공장 → 로봇 공장 → 우주선 공장 (진행도별)
- 일일 미션: 특정 조건 클리어로 보너스 재화

## 타겟 유저
- 25~45세 여성/남성 캐주얼 게이머
- 퍼즐 게임 팬 (Color Sort, Water Sort 유저층)
- 짧은 세션 (3~5분) 플레이어

## 차별점
- 기존 나사 정렬 게임은 순수 퍼즐. 본 게임은 **팩토리 빌딩 메타** 추가로 장기 리텐션 확보
- 물리 기반 나사 회전 애니메이션 → 높은 만족감
- 단계별 팩토리 해금으로 진행 동기 부여

## 수익 모델
- **보상형 광고 (IAA)**: 힌트, 되돌리기, 보너스 볼트
- **전면 광고**: 스테이지 클리어 시 (3~5 스테이지마다)
- **인앱 구매 (IAP)**: 광고 제거 팩, 볼트 번들, 프리미엄 팩토리 스킨
- **배틀 패스**: 시즌별 보상 트랙 (무료/유료 티어)

## 기술 스택
- **엔진**: Vanilla HTML5 Canvas + JavaScript
- **물리**: 간단한 트윈 애니메이션 (CSS transition 또는 requestAnimationFrame)
- **저장**: localStorage (진행도, 팩토리 상태)
- **배포**: GitHub Pages (정적 호스팅)

## 시스템 설계

### 레벨 구조
```
Level 1-10:   2색, 나사 6~9개, 슬롯 3개 (튜토리얼)
Level 11-30:  3색, 나사 9~12개, 슬롯 4개
Level 31-60:  4색, 나사 12~16개, 슬롯 4개, 잠긴 나사 등장
Level 61-100: 5~6색, 나사 16~20개, 슬롯 5개, 체인 나사, 녹슨 나사
Level 100+:   무한 생성, 난이도 점진 증가
```

### 나사 상태
- **일반**: 탭하면 즉시 이동
- **잠긴 나사 🔒**: 인접 나사 먼저 제거해야 해금
- **녹슨 나사 🟫**: 2번 탭해야 풀림 (첫 탭: 녹 제거 애니메이션)
- **체인 나사 ⛓️**: 같은 체인의 나사를 모두 풀어야 이동 가능

### 팩토리 시스템
```
Stage 1-20 해금:  나사 수집 스테이션 (볼트 +10%)
Stage 21-40 해금: 분류 컨베이어 (자동 힌트 1일 1회)
Stage 41-60 해금: 조립 라인 (콤보 보너스 +20%)
Stage 61-80 해금: 로봇 팔 (되돌리기 1일 2회 무료)
Stage 81-100 해금: 우주선 독 (모든 보너스 2배)
```

### UI/UX 플로우
```
[메인 화면]
  ├── [플레이] → 현재 레벨 시작
  │     ├── 보드 (나사 배치)
  │     ├── 하단 슬롯 (색상 매칭 영역)
  │     ├── 힌트 버튼 (💡)
  │     ├── 되돌리기 버튼 (↩️)
  │     └── 클리어 → 보상 화면 → 다음 레벨 or 팩토리
  ├── [팩토리] → 팩토리 빌딩 화면
  │     ├── 건물 배치 뷰
  │     ├── 업그레이드 메뉴
  │     └── 아이들 수익 수집
  ├── [일일 미션] → 3개 미션 표시
  └── [설정] → 사운드, 진동, 언어
```

### 밸런스 파라미터
```javascript
const BALANCE = {
  // 나사 정렬
  baseScrewsPerLevel: 6,
  screwsIncreasePerLevel: 0.15,  // 레벨당 나사 수 증가율
  colorsUnlockLevels: [1, 11, 31, 61, 81],
  maxSlots: 5,
  
  // 보상
  boltsPerLevel: 10,
  comboMultiplier: 1.5,
  perfectClearBonus: 2.0,  // 힌트 미사용 클리어
  
  // 팩토리
  factoryIdleRate: 1,  // 분당 볼트 생산
  upgradeBaseCost: 50,
  upgradeCostMultiplier: 1.8,
  
  // 광고
  hintAdReward: 1,     // 힌트 1회
  undoAdReward: 1,     // 되돌리기 1회
  bonusBoltsAd: 20,    // 볼트 보너스
  interstitialInterval: 4,  // N 스테이지마다 전면광고
  
  // 난이도
  lockedScrewStartLevel: 31,
  rustyStartLevel: 45,
  chainStartLevel: 61
};
```
