<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
<title>Brain Teaser ðŸ§ </title>
<meta name="description" content="IQ ë‘ë‡Œ í¼ì¦! ë…¼ë¦¬, ìˆ˜í•™, íŒ¨í„´ ì¸ì‹ 50+ ë¬¸ì œë¡œ ë‘ë‡Œë¥¼ ìžê·¹í•˜ì„¸ìš”.">
<meta property="og:title" content="Brain Teaser ðŸ§  â€” East Sea Games">
<meta property="og:description" content="ë‘ë‡Œë¥¼ ìžê·¹í•˜ëŠ” IQ í¼ì¦! ë…¼ë¦¬/ìˆ˜í•™/íŒ¨í„´ 50+ ë¬¸ì œ.">
<meta property="og:url" content="https://eastsea.monster/games/brain-teaser/">
<meta property="og:type" content="website">
<link rel="canonical" href="https://eastsea.monster/games/brain-teaser/">
<link rel="manifest" href="/games/manifest.json">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{width:100%;height:100%;overflow:hidden;font-family:'Segoe UI',system-ui,sans-serif;user-select:none}
body{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;flex-direction:column;align-items:center}
#app{width:100%;max-width:420px;height:100%;display:flex;flex-direction:column;color:#fff}
.hdr{display:flex;justify-content:space-between;align-items:center;padding:12px 16px}
.hdr .ttl{font-size:18px;font-weight:700}
.hdr .info{text-align:center}
.hdr .lbl{font-size:10px;opacity:0.7;text-transform:uppercase}
.hdr .val{font-size:18px;font-weight:700}
.timer-bar{padding:0 16px;margin-bottom:8px}
.timer-track{height:6px;background:rgba(255,255,255,0.2);border-radius:3px;overflow:hidden}
.timer-fill{height:100%;background:#ffd700;border-radius:3px;transition:width 0.1s linear}
.timer-fill.low{background:#e94560}
.question-area{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;text-align:center}
.q-num{font-size:12px;opacity:0.7;margin-bottom:8px}
.q-text{font-size:22px;font-weight:700;margin-bottom:16px;line-height:1.4;min-height:80px;display:flex;align-items:center;justify-content:center}
.q-visual{font-size:48px;margin:16px 0;min-height:60px}
.answers{display:grid;grid-template-columns:1fr 1fr;gap:10px;padding:16px;width:100%}
.answer-btn{padding:16px;border:2px solid rgba(255,255,255,0.3);border-radius:14px;background:rgba(255,255,255,0.1);color:#fff;font-size:18px;font-weight:600;cursor:pointer;transition:all 0.2s;min-height:56px;backdrop-filter:blur(4px)}
.answer-btn:active{transform:scale(0.95)}
.answer-btn.correct{background:rgba(80,200,120,0.5);border-color:#50c878;animation:correctPulse 0.4s}
.answer-btn.wrong{background:rgba(233,69,96,0.5);border-color:#e94560;animation:shake 0.3s}
@keyframes correctPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px)}75%{transform:translateX(8px)}}
.result-area{padding:16px;text-align:center}
.result-text{font-size:16px;min-height:24px;font-weight:600}
.bottom-pad{padding:8px 16px 24px}
.iq-score{font-size:14px;opacity:0.8;text-align:center;margin-top:4px}
.modal-bg{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:100;backdrop-filter:blur(6px)}
.modal{background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:20px;padding:28px 24px;text-align:center;width:min(85vw,320px);color:#fff;border:1px solid rgba(255,255,255,0.1)}
.modal h2{font-size:24px}
.modal .big{font-size:52px;margin:12px 0;font-weight:800}
.modal p{opacity:0.7;margin:8px 0}
.btn{padding:14px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;width:100%;margin-top:8px;min-height:48px}
.btn:active{transform:scale(0.95)}
.btn-primary{background:#667eea;color:#fff}
.btn-secondary{background:rgba(255,255,255,0.1);color:#fff}
</style>
</head>
<body>
<div id="app">
<div class="hdr">
<div class="ttl">ðŸ§  Brain Teaser</div>
<div class="info"><div class="lbl">Q</div><div class="val" id="vQ">1/20</div></div>
<div class="info"><div class="lbl" id="lScore">SCORE</div><div class="val" id="vScore">0</div></div>
</div>
<div class="timer-bar"><div class="timer-track"><div class="timer-fill" id="timerFill" style="width:100%"></div></div></div>
<div class="question-area">
<div class="q-num" id="qNum"></div>
<div class="q-text" id="qText"></div>
<div class="q-visual" id="qVisual"></div>
</div>
<div class="answers" id="answers"></div>
<div class="result-area"><div class="result-text" id="resultText"></div><div class="iq-score" id="iqScore"></div></div>
<div class="bottom-pad"></div>
</div>
<script src="/games/tg-sdk-wrapper.js"></script>
<script>
(function(){
'use strict';
const I18N={
ko:{score:'ì ìˆ˜',correct:'ì •ë‹µ! âœ…',wrong:'ì˜¤ë‹µ âŒ',timeUp:'ì‹œê°„ ì´ˆê³¼!',gameOver:'ê²°ê³¼',iq:'ì˜ˆìƒ IQ',replay:'ë‹¤ì‹œí•˜ê¸°',share:'ê³µìœ ',q:'ë¬¸',best:'ìµœê³ ',whatNext:'ë‹¤ìŒ ìˆ˜ëŠ”?',whichDiff:'ë‹¤ë¥¸ í•˜ë‚˜ëŠ”?',howMany:'ëª‡ ê°œ?',calcThis:'ê³„ì‚°í•˜ì„¸ìš”',findPattern:'íŒ¨í„´ì„ ì°¾ìœ¼ì„¸ìš”'},
en:{score:'SCORE',correct:'Correct! âœ…',wrong:'Wrong âŒ',timeUp:'Time Up!',gameOver:'Results',iq:'Est. IQ',replay:'Play Again',share:'Share',q:'Q',best:'BEST',whatNext:'What comes next?',whichDiff:'Which is different?',howMany:'How many?',calcThis:'Calculate',findPattern:'Find the pattern'},
ja:{score:'ã‚¹ã‚³ã‚¢',correct:'æ­£è§£ï¼ âœ…',wrong:'ä¸æ­£è§£ âŒ',timeUp:'ã‚¿ã‚¤ãƒ ã‚¢ãƒƒãƒ—ï¼',gameOver:'çµæžœ',iq:'æŽ¨å®šIQ',replay:'ã‚‚ã†ä¸€åº¦',share:'ã‚·ã‚§ã‚¢',q:'å•',best:'ãƒ™ã‚¹ãƒˆ',whatNext:'æ¬¡ã®æ•°ã¯ï¼Ÿ',whichDiff:'ä»²é–“ã¯ãšã‚Œã¯ï¼Ÿ',howMany:'ä½•å€‹ï¼Ÿ',calcThis:'è¨ˆç®—ã—ã¦ãã ã•ã„',findPattern:'ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹ã¤ã‘ã¦'}
};
const ulang=(window.TG?.getLang?.()||'en').slice(0,2);
const lang=['ko','ja'].includes(ulang)?ulang:'en';
const t=k=>I18N[lang]?.[k]||I18N.en[k]||k;

const TOTAL_Q=20,TIME_PER_Q=15000;
let qIndex=0,score=0,streak=0,timer=null,timeLeft=0;
let questions=[],answered=false;
const answersEl=document.getElementById('answers');
const resultEl=document.getElementById('resultText');

function generateQuestions(){
questions=[];
for(let i=0;i<TOTAL_Q;i++){
const diff=Math.floor(i/5);
const type=Math.floor(Math.random()*5);
questions.push(makeQuestion(type,diff));
}
}
function makeQuestion(type,diff){
switch(type){
case 0:return makeSequence(diff);
case 1:return makeMath(diff);
case 2:return makeOddOneOut(diff);
case 3:return makePattern(diff);
default:return makeLogic(diff);
}
}
function makeSequence(d){
const start=Math.floor(Math.random()*10)+1;
const step=(d+1)*(Math.random()>0.5?1:-1)*(Math.floor(Math.random()*3)+2);
const seq=[];for(let i=0;i<4;i++)seq.push(start+step*i);
const ans=start+step*4;
const opts=shuffleArr([ans,ans+step,ans-step,ans+1].filter((v,i,a)=>a.indexOf(v)===i).slice(0,4));
if(opts.length<4)opts.push(ans+10,ans-10);
return{text:t('whatNext'),visual:seq.join(', ')+'  , ?',answer:ans.toString(),options:opts.slice(0,4).map(String)};
}
function makeMath(d){
const ops=['+','-','Ã—'];
const a=Math.floor(Math.random()*(10+d*5))+1;
const b=Math.floor(Math.random()*(5+d*3))+1;
const op=ops[Math.floor(Math.random()*ops.length)];
let ans;
if(op==='+')ans=a+b;else if(op==='-')ans=a-b;else ans=a*b;
const opts=shuffleArr([ans,ans+1,ans-1,ans+2].filter((v,i,a)=>a.indexOf(v)===i));
return{text:t('calcThis'),visual:`${a} ${op} ${b} = ?`,answer:ans.toString(),options:opts.slice(0,4).map(String)};
}
function makeOddOneOut(d){
const groups=[['ðŸŽ','ðŸŠ','ðŸ‹','ðŸš—'],['ðŸ¶','ðŸ±','ðŸ¹','ðŸŒ²'],['â­','ðŸŒ™','â˜€ï¸','ðŸŽ¸'],['ðŸ“±','ðŸ’»','ðŸ–¥ï¸','ðŸ•'],['âœˆï¸','ðŸš‚','ðŸš—','ðŸ“š']];
const g=groups[Math.floor(Math.random()*groups.length)];
const ans=g[g.length-1];
const shuffled=shuffleArr([...g]);
return{text:t('whichDiff'),visual:shuffled.join('  '),answer:ans,options:shuffled};
}
function makePattern(d){
const patterns=[['â¬›','â¬œ','â¬›','â¬œ','â¬›'],['ðŸ”´','ðŸ”µ','ðŸ”´','ðŸ”µ','ðŸ”´'],['â­','â­','ðŸŒ™','â­','â­'],['1ï¸âƒ£','2ï¸âƒ£','3ï¸âƒ£','4ï¸âƒ£','5ï¸âƒ£']];
const p=patterns[Math.floor(Math.random()*patterns.length)];
const ans=p[p.length-1];
const shown=p.slice(0,-1).join(' ')+'  ?';
const opts=shuffleArr(['â¬›','â¬œ','ðŸ”´','ðŸ”µ','â­','ðŸŒ™'].filter(x=>x!==ans).slice(0,3).concat(ans));
return{text:t('findPattern'),visual:shown,answer:ans,options:opts.slice(0,4)};
}
function makeLogic(d){
const n=Math.floor(Math.random()*20)+5+d*5;
const ans=n.toString();
const opts=shuffleArr([n,n+1,n-1,n+2].map(String));
const shapes='ðŸ”µðŸ”´ðŸŸ¢ðŸŸ¡'.split('');
let visual='';for(let i=0;i<n&&i<20;i++)visual+=shapes[i%shapes.length];
if(n>20)visual+='...';
return{text:t('howMany')+'(ðŸ”µ)',visual,answer:Math.ceil(n/shapes.length).toString(),options:shuffleArr([Math.ceil(n/4),Math.ceil(n/4)+1,Math.ceil(n/4)-1,Math.ceil(n/4)+2].map(String)).slice(0,4)};
}
function shuffleArr(a){const b=[...a];for(let i=b.length-1;i>0;i--){const j=Math.random()*i+1|0;[b[i],b[j]]=[b[j],b[i]]}return b}
function startGame(){
qIndex=0;score=0;streak=0;answered=false;
document.getElementById('vScore').textContent='0';
resultEl.textContent='';
document.getElementById('iqScore').textContent='';
generateQuestions();showQuestion();
}
function showQuestion(){
if(qIndex>=TOTAL_Q){endGame();return}
answered=false;
const q=questions[qIndex];
document.getElementById('vQ').textContent=`${qIndex+1}/${TOTAL_Q}`;
document.getElementById('qNum').textContent=`${t('q')} ${qIndex+1}`;
document.getElementById('qText').textContent=q.text;
document.getElementById('qVisual').textContent=q.visual;
resultEl.textContent='';
answersEl.innerHTML='';
q.options.forEach(opt=>{
const btn=document.createElement('button');
btn.className='answer-btn';btn.textContent=opt;
btn.addEventListener('click',()=>answer(opt,q.answer,btn));
answersEl.appendChild(btn);
});
timeLeft=TIME_PER_Q;
const fill=document.getElementById('timerFill');
fill.style.width='100%';fill.classList.remove('low');
clearInterval(timer);
timer=setInterval(()=>{
timeLeft-=100;
const pct=Math.max(0,timeLeft/TIME_PER_Q*100);
fill.style.width=pct+'%';
if(pct<30)fill.classList.add('low');
if(timeLeft<=0){clearInterval(timer);timeUp()}
},100);
}
function answer(selected,correct,btn){
if(answered)return;answered=true;clearInterval(timer);
const isCorrect=selected===correct;
if(isCorrect){
btn.classList.add('correct');score+=100+streak*20+Math.floor(timeLeft/1000)*10;streak++;
resultEl.textContent=t('correct');
window.TG?.haptic?.('notification','success');
}else{
btn.classList.add('wrong');streak=0;
resultEl.textContent=`${t('wrong')} â†’ ${correct}`;
window.TG?.haptic?.('notification','error');
answersEl.querySelectorAll('.answer-btn').forEach(b=>{if(b.textContent===correct)b.classList.add('correct')});
}
document.getElementById('vScore').textContent=score;
setTimeout(()=>{qIndex++;showQuestion()},1200);
}
function timeUp(){
if(answered)return;answered=true;streak=0;
resultEl.textContent=t('timeUp');
window.TG?.haptic?.('notification','error');
setTimeout(()=>{qIndex++;showQuestion()},1000);
}
function endGame(){
clearInterval(timer);
const iq=Math.round(80+score/TOTAL_Q*0.8);
if(window.GameScore)GameScore.save('brain-teaser',score);
let m=document.querySelector('.modal-bg');if(m)m.remove();
m=document.createElement('div');m.className='modal-bg';
m.innerHTML=`<div class="modal"><h2>${t('gameOver')}</h2><div class="big">${score}</div><p>${t('iq')}: ${iq}</p><button class="btn btn-primary">${t('replay')}</button><button class="btn btn-secondary" style="margin-top:8px">${t('share')}</button></div>`;
document.body.appendChild(m);
m.querySelectorAll('.btn')[0].addEventListener('click',()=>{m.remove();startGame()});
m.querySelectorAll('.btn')[1].addEventListener('click',()=>{window.TG?.shareScore?.(score,'Brain Teaser','brain-teaser')});
}
startGame();
})();
</script>
<script src="/games/cross-promo.js"></script>
</body>
</html>
